/*! For license information please see vendor-8d0f8b64c903810d977b.js.LICENSE.txt */
(self.webpackChunkapp=self.webpackChunkapp||[]).push([[502],{504:function(e,t){var n,i,o;i=[t],n=function(t){function n(e){if(e in H)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=j.length;n--;)if((e=j[n]+t)in H)return e}function i(e,t){for(var n in e=e||{},t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},i(e[n],t[n])):e[n]=t[n];return e}function o(e){if("createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}else e.fireEvent("onchange")}function r(e,t,n){if("string"==typeof t){var i=t;(t={})[i]=n}for(var o in t)e.style[o]=t[o]}function a(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function s(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}function l(e){return parseInt(e,10)}function u(e,t){var n=t||new Image;return n.style.opacity=0,new Promise((function(t){n.src===e?t(n):(n.removeAttribute("crossOrigin"),e.match(/^https?:\/\/|^\/\//)&&n.setAttribute("crossOrigin","anonymous"),n.onload=function(){setTimeout((function(){t(n)}),1)},n.src=e)}))}function c(e,t){window.EXIF||t(0),EXIF.getData(e,(function(){var e=EXIF.getTag(this,"Orientation");t(e)}))}function d(e,t,n){var i=t.width,o=t.height,r=e.getContext("2d");switch(e.width=t.width,e.height=t.height,r.save(),n){case 2:r.translate(i,0),r.scale(-1,1);break;case 3:r.translate(i,o),r.rotate(180*Math.PI/180);break;case 4:r.translate(0,o),r.scale(1,-1);break;case 5:e.width=o,e.height=i,r.rotate(90*Math.PI/180),r.scale(1,-1);break;case 6:e.width=o,e.height=i,r.rotate(90*Math.PI/180),r.translate(0,-o);break;case 7:e.width=o,e.height=i,r.rotate(-90*Math.PI/180),r.translate(-i,o),r.scale(1,-1);break;case 8:e.width=o,e.height=i,r.translate(0,i),r.rotate(-90*Math.PI/180)}r.drawImage(t,0,0,i,o),r.restore()}function p(){var e,t,n,i,o,s=this,l=s.options.viewport.type?"cr-vp-"+s.options.viewport.type:null;s.options.useCanvas=s.options.enableOrientation||f.call(s),s.data={},s.elements={},e=s.elements.boundary=document.createElement("div"),t=s.elements.viewport=document.createElement("div"),s.elements.img=document.createElement("img"),n=s.elements.overlay=document.createElement("div"),s.options.useCanvas?(s.elements.canvas=document.createElement("canvas"),s.elements.preview=s.elements.canvas):s.elements.preview=s.elements.img,a(e,"cr-boundary"),i=s.options.boundary.width,o=s.options.boundary.height,r(e,{width:i+(isNaN(i)?"":"px"),height:o+(isNaN(o)?"":"px")}),a(t,"cr-viewport"),l&&a(t,l),r(t,{width:s.options.viewport.width+"px",height:s.options.viewport.height+"px"}),t.setAttribute("tabindex",0),a(s.elements.preview,"cr-image"),a(n,"cr-overlay"),s.element.appendChild(e),e.appendChild(s.elements.preview),e.appendChild(t),e.appendChild(n),a(s.element,"croppie-container"),s.options.customClass&&a(s.element,s.options.customClass),y.call(this),s.options.enableZoom&&m.call(s)}function f(){return this.options.enableExif&&window.EXIF}function h(e){if(this.options.enableZoom){var t=this.elements.zoomer,n=A(e,4);t.value=Math.max(t.min,Math.min(t.max,n))}}function m(){function e(){g.call(n,{value:parseFloat(o.value),origin:new $(n.elements.preview),viewportRect:n.elements.viewport.getBoundingClientRect(),transform:W.parse(n.elements.preview)})}function t(t){var i,o;i=t.wheelDelta?t.wheelDelta/1200:t.deltaY?t.deltaY/1060:t.detail?t.detail/-60:0,o=n._currentZoom+i*n._currentZoom,t.preventDefault(),h.call(n,o),e.call(n)}var n=this,i=n.elements.zoomerWrap=document.createElement("div"),o=n.elements.zoomer=document.createElement("input");a(i,"cr-slider-wrap"),a(o,"cr-slider"),o.type="range",o.step="0.0001",o.value=1,o.style.display=n.options.showZoomer?"":"none",n.element.appendChild(i),i.appendChild(o),n._currentZoom=1,n.elements.zoomer.addEventListener("input",e),n.elements.zoomer.addEventListener("change",e),n.options.mouseWheelZoom&&(n.elements.boundary.addEventListener("mousewheel",t),n.elements.boundary.addEventListener("DOMMouseScroll",t))}function g(e){function t(){var e={};e[O]=i.toString(),e[M]=a.toString(),r(n.elements.preview,e)}var n=this,i=e?e.transform:W.parse(n.elements.preview),o=e?e.viewportRect:n.elements.viewport.getBoundingClientRect(),a=e?e.origin:new $(n.elements.preview);if(n._currentZoom=e?e.value:n._currentZoom,i.scale=n._currentZoom,t(),n.options.enforceBoundary){var s=v.call(n,o),l=s.translate,u=s.origin;i.x>=l.maxX&&(a.x=u.minX,i.x=l.maxX),i.x<=l.minX&&(a.x=u.maxX,i.x=l.minX),i.y>=l.maxY&&(a.y=u.minY,i.y=l.maxY),i.y<=l.minY&&(a.y=u.maxY,i.y=l.minY)}t(),G.call(n),_.call(n)}function v(e){var t=this,n=t._currentZoom,i=e.width,o=e.height,r=t.elements.boundary.clientWidth/2,a=t.elements.boundary.clientHeight/2,s=t.elements.preview.getBoundingClientRect(),l=s.width,u=s.height,c=i/2,d=o/2,p=-1*(c/n-r),f=-1*(d/n-a),h=1/n*c,m=1/n*d;return{translate:{maxX:p,minX:p-(l*(1/n)-i*(1/n)),maxY:f,minY:f-(u*(1/n)-o*(1/n))},origin:{maxX:l*(1/n)-h,minX:h,maxY:u*(1/n)-m,minY:m}}}function q(){var e=this,t=e._currentZoom,n=e.elements.preview.getBoundingClientRect(),i=e.elements.viewport.getBoundingClientRect(),o=W.parse(e.elements.preview.style[O]),a=new $(e.elements.preview),s=i.top-n.top+i.height/2,l=i.left-n.left+i.width/2,u={},c={};u.y=s/t,u.x=l/t,c.y=(u.y-a.y)*(1-t),c.x=(u.x-a.x)*(1-t),o.x-=c.x,o.y-=c.y;var d={};d[M]=u.x+"px "+u.y+"px",d[O]=o.toString(),r(e.elements.preview,d)}function y(){function e(e,t){var n=p.elements.preview.getBoundingClientRect(),i=d.y+t,o=d.x+e;p.options.enforceBoundary?(c.top>n.top+t&&c.bottom<n.bottom+t&&(d.y=i),c.left>n.left+e&&c.right<n.right+e&&(d.x=o)):(d.y=i,d.x=o)}function t(t){var n={};e(t[0],t[1]),n[O]=d.toString(),r(p.elements.preview,n),b.call(p),document.body.style[z]="",q.call(p),_.call(p),u=0}function n(e){if(e.preventDefault(),!f){if(f=!0,s=e.pageX,l=e.pageY,e.touches){var t=e.touches[0];s=t.pageX,l=t.pageY}d=W.parse(p.elements.preview),window.addEventListener("mousemove",i),window.addEventListener("touchmove",i),window.addEventListener("mouseup",a),window.addEventListener("touchend",a),document.body.style[z]="none",c=p.elements.viewport.getBoundingClientRect()}}function i(t){t.preventDefault();var n=t.pageX,i=t.pageY;if(t.touches){var a=t.touches[0];n=a.pageX,i=a.pageY}var c=n-s,f=i-l,m={};if("touchmove"==t.type&&t.touches.length>1){var g=t.touches[0],v=t.touches[1],q=Math.sqrt((g.pageX-v.pageX)*(g.pageX-v.pageX)+(g.pageY-v.pageY)*(g.pageY-v.pageY));u||(u=q/p._currentZoom);var y=q/u;return h.call(p,y),void o(p.elements.zoomer)}e(c,f),m[O]=d.toString(),r(p.elements.preview,m),b.call(p),l=i,s=n}function a(){f=!1,window.removeEventListener("mousemove",i),window.removeEventListener("touchmove",i),window.removeEventListener("mouseup",a),window.removeEventListener("touchend",a),document.body.style[z]="",q.call(p),_.call(p),u=0}var s,l,u,c,d,p=this,f=!1;p.elements.overlay.addEventListener("mousedown",n),p.elements.viewport.addEventListener("keydown",(function(e){var n=37,i=38,o=39,r=40;if(!e.shiftKey||e.keyCode!=i&&e.keyCode!=r){if(e.keyCode>=37&&e.keyCode<=40){e.preventDefault();var a=function(t){switch(e.keyCode){case n:return[1,0];case i:return[0,1];case o:return[-1,0];case r:return[0,-1]}}();d=W.parse(p.elements.preview),document.body.style[z]="none",c=p.elements.viewport.getBoundingClientRect(),t(a)}}else{var s=0;s=e.keyCode==i?parseFloat(p.elements.zoomer.value,10)+parseFloat(p.elements.zoomer.step,10):parseFloat(p.elements.zoomer.value,10)-parseFloat(p.elements.zoomer.step,10),p.setZoom(s)}})),p.elements.overlay.addEventListener("touchstart",n)}function b(){var e=this,t=e.elements.boundary.getBoundingClientRect(),n=e.elements.preview.getBoundingClientRect();r(e.elements.overlay,{width:n.width+"px",height:n.height+"px",top:n.top-t.top+"px",left:n.left-t.left+"px"})}function _(){var e=this,t=e.get();if(w.call(e))if(e.options.update.call(e,t),e.$&&"undefined"==typeof Prototype)e.$(e.element).trigger("update",t);else{var n;window.CustomEvent?n=new CustomEvent("update",{detail:t}):(n=document.createEvent("CustomEvent")).initCustomEvent("update",!0,!0,t),e.element.dispatchEvent(n)}}function w(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function C(){var e,t,n,i,a,s=this,l=0,u=1.5,c=1,d={},p=s.elements.preview,f=s.elements.zoomer,m=new W(0,0,c),g=new $;if(w.call(s)&&!s.data.bound){if(s.data.bound=!0,d[O]=m.toString(),d[M]=g.toString(),d.opacity=1,r(p,d),e=p.getBoundingClientRect(),t=s.elements.viewport.getBoundingClientRect(),n=s.elements.boundary.getBoundingClientRect(),s._originalImageWidth=e.width,s._originalImageHeight=e.height,s.options.enableZoom){s.options.enforceBoundary&&(i=t.width/e.width,a=t.height/e.height,l=Math.max(i,a)),l>=u&&(u=l+1),f.min=A(l,4),f.max=A(u,4);var v=Math.max(n.width/e.width,n.height/e.height);c=null!==s.data.boundZoom?s.data.boundZoom:v,h.call(s,c),o(f)}else s._currentZoom=c;m.scale=s._currentZoom,d[O]=m.toString(),r(p,d),s.data.points.length?x.call(s,s.data.points):E.call(s),q.call(s),b.call(s)}}function x(e){if(4!=e.length)throw"Croppie - Invalid number of points supplied: "+e;var t=this,n=e[2]-e[0],i=t.elements.viewport.getBoundingClientRect(),o=t.elements.boundary.getBoundingClientRect(),a={left:i.left-o.left,top:i.top-o.top},s=i.width/n,l=e[1],u=e[0],c=-1*e[1]+a.top,d=-1*e[0]+a.left,p={};p[M]=u+"px "+l+"px",p[O]=new W(d,c,s).toString(),r(t.elements.preview,p),h.call(t,s),t._currentZoom=s}function E(){var e=this,t=e.elements.preview.getBoundingClientRect(),n=e.elements.viewport.getBoundingClientRect(),i=e.elements.boundary.getBoundingClientRect(),o=n.left-i.left,a=n.top-i.top,s=o-(t.width-n.width)/2,l=a-(t.height-n.height)/2,u=new W(s,l,e._currentZoom);r(e.elements.preview,O,u.toString())}function S(e){var t=this,n=t.elements.canvas,i=t.elements.img,o=n.getContext("2d"),r=f.call(t);e=t.options.enableOrientation&&e,o.clearRect(0,0,n.width,n.height),n.width=i.width,n.height=i.height,r?c(i,(function(t){d(n,i,l(t,10)),e&&d(n,i,e)})):e&&d(n,i,e)}function I(e){var t=this,n=e.points,i=l(n[0]),o=l(n[1]),r=l(n[2]),a=l(n[3]),s=r-i,u=a-o,c=e.circle,d=document.createElement("canvas"),p=d.getContext("2d"),f=s,h=u,m=0,g=0,v=f,q=h,y=1;return e.outputWidth&&e.outputHeight&&(v=e.outputWidth,q=e.outputHeight,y=v/f),d.width=v,d.height=q,e.backgroundColor&&(p.fillStyle=e.backgroundColor,p.fillRect(0,0,f,h)),i<0&&(m=Math.abs(i),i=0),o<0&&(g=Math.abs(o),o=0),r>t._originalImageWidth&&(f=s=t._originalImageWidth-i),a>t._originalImageHeight&&(h=u=t._originalImageHeight-o),1!==y&&(m*=y,g*=y,f*=y,h*=y),p.drawImage(this.elements.preview,i,o,s,u,m,g,f,h),c&&(p.fillStyle="#fff",p.globalCompositeOperation="destination-in",p.beginPath(),p.arc(f/2,h/2,f/2,0,2*Math.PI,!0),p.closePath(),p.fill()),d}function F(e){var t=e.points,n=document.createElement("div"),i=document.createElement("img"),o=t[2]-t[0],s=t[3]-t[1];return a(n,"croppie-result"),n.appendChild(i),r(i,{left:-1*t[0]+"px",top:-1*t[1]+"px"}),i.src=e.url,r(n,{width:o+"px",height:s+"px"}),n}function k(e){return I.call(this,e).toDataURL(e.format,e.quality)}function D(e){var t=this;return new Promise((function(n,i){I.call(t,e).toBlob((function(e){n(e)}),e.format,e.quality)}))}function T(e,t){var n,i=this,o=[],r=null;if("string"==typeof e)n=e,e={};else if(Array.isArray(e))o=e.slice();else{if(void 0===e&&i.data.url)return C.call(i),_.call(i),null;n=e.url,o=e.points||[],r=void 0===e.zoom?null:e.zoom}return i.data.bound=!1,i.data.url=n||i.data.url,i.data.boundZoom=r,u(n,i.elements.img).then((function(n){if(o.length)i.options.relative&&(o=[o[0]*n.naturalWidth/100,o[1]*n.naturalHeight/100,o[2]*n.naturalWidth/100,o[3]*n.naturalHeight/100]),i.data.points=o.map((function(e){return parseFloat(e)}));else{var r,a,s=n.naturalWidth,l=n.naturalHeight,u=i.elements.viewport.getBoundingClientRect(),c=u.width/u.height;s/l>c?r=(a=l)*c:a=(r=s)/c;var d=(s-r)/2,p=(l-a)/2,f=d+r,h=p+a;i.data.points=[d,p,f,h]}i.options.useCanvas&&(i.elements.img.exifdata=null,S.call(i,e.orientation||1)),C.call(i),_.call(i),t&&t()}))}function A(e,t){return parseFloat(e).toFixed(t||0)}function U(){var e=this,t=e.elements.preview.getBoundingClientRect(),n=e.elements.viewport.getBoundingClientRect(),i=n.left-t.left,o=n.top-t.top,r=(n.width-e.elements.viewport.offsetWidth)/2,a=(n.height-e.elements.viewport.offsetHeight)/2,s=i+e.elements.viewport.offsetWidth+r,l=o+e.elements.viewport.offsetHeight+a,u=e._currentZoom;(u===1/0||isNaN(u))&&(u=1);var c=e.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return i=Math.max(c,i/u),o=Math.max(c,o/u),s=Math.max(c,s/u),l=Math.max(c,l/u),{points:[A(i),A(o),A(s),A(l)],zoom:u}}function R(e){var t=this,n=U.call(t),o=i(Y,i({},e)),r="string"==typeof e?e:o.type||"base64",a=o.size,s=o.format,l=o.quality,u=o.backgroundColor,c="boolean"==typeof o.circle?o.circle:"circle"===t.options.viewport.type,d=t.elements.viewport.getBoundingClientRect(),p=d.width/d.height;return"viewport"===a?(n.outputWidth=d.width,n.outputHeight=d.height):"object"==typeof a&&(a.width&&a.height?(n.outputWidth=a.width,n.outputHeight=a.height):a.width?(n.outputWidth=a.width,n.outputHeight=a.width/p):a.height&&(n.outputWidth=a.height*p,n.outputHeight=a.height)),V.indexOf(s)>-1&&(n.format="image/"+s,n.quality=l),n.circle=c,n.url=t.data.url,n.backgroundColor=u,new Promise((function(e,i){switch(r.toLowerCase()){case"rawcanvas":e(I.call(t,n));break;case"canvas":case"base64":e(k.call(t,n));break;case"blob":D.call(t,n).then(e);break;default:e(F.call(t,n))}}))}function P(){C.call(this)}function L(e){if(!this.options.useCanvas)throw"Croppie: Cannot rotate without enableOrientation";var t=this,n=t.elements.canvas,i=(t.elements.img,document.createElement("canvas")),o=1;i.width=n.width,i.height=n.height,i.getContext("2d").drawImage(n,0,0),90!==e&&-270!==e||(o=6),-90!==e&&270!==e||(o=8),180!==e&&-180!==e||(o=3),d(n,i,o),g.call(t)}function B(){var e=this;e.element.removeChild(e.elements.boundary),s(e.element,"croppie-container"),e.options.enableZoom&&e.element.removeChild(e.elements.zoomerWrap),delete e.elements}function N(e,t){if(this.element=e,this.options=i(i({},N.defaults),t),"img"===this.element.tagName.toLowerCase()){var n=this.element;a(n,"cr-original-image");var o=document.createElement("div");this.element.parentNode.appendChild(o),o.appendChild(n),this.element=o,this.options.url=this.options.url||n.src}if(p.call(this),this.options.url){var r={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,T.call(this,r)}}"function"!=typeof Promise&&function(t){function n(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(e,n(r,this),n(a,this))}function o(e){var t=this;return null===this._state?void this._deferreds.push(e):void d((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void e.reject(t)}e.resolve(i)}else(t._state?e.resolve:e.reject)(t._value)}))}function r(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void u(n(t,e),n(r,this),n(a,this))}this._state=!0,this._value=e,s.call(this)}catch(e){a.call(this,e)}}function a(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;t>e;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function l(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function u(e,t,n){var i=!1;try{e((function(e){i||(i=!0,t(e))}),(function(e){i||(i=!0,n(e))}))}catch(e){if(i)return;i=!0,n(e)}}var c=setTimeout,d="function"==typeof setImmediate&&setImmediate||function(e){c(e,1)},p=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=this;return new i((function(i,r){o.call(n,new l(e,t,i,r))}))},i.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&p(arguments[0])?arguments[0]:arguments);return new i((function(t,n){function i(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){i(r,e)}),n)}e[r]=a,0==--o&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var o=e.length,r=0;r<e.length;r++)i(r,e[r])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var i=0,o=e.length;o>i;i++)e[i].then(t,n)}))},i._setImmediateFn=function(e){d=e},e.exports?e.exports=i:t.Promise||(t.Promise=i)}(this),"function"!=typeof window.CustomEvent&&function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var i=atob(this.toDataURL(t,n).split(",")[1]),o=i.length,r=new Uint8Array(o),a=0;a<o;a++)r[a]=i.charCodeAt(a);e(new Blob([r],{type:t||"image/png"}))}});var M,O,z,j=["Webkit","Moz","ms"],H=document.createElement("div").style;O=n("transform"),M=n("transformOrigin"),z=n("userSelect");var X={translate3d:{suffix:", 0px"},translate:{suffix:""}},W=function(e,t,n){this.x=parseFloat(e),this.y=parseFloat(t),this.scale=parseFloat(n)};W.parse=function(e){return e.style?W.parse(e.style[O]):e.indexOf("matrix")>-1||e.indexOf("none")>-1?W.fromMatrix(e):W.fromString(e)},W.fromMatrix=function(e){var t=e.substring(7).split(",");return t.length&&"none"!==e||(t=[1,0,0,1,0,0]),new W(l(t[4]),l(t[5]),parseFloat(t[0]))},W.fromString=function(e){var t=e.split(") "),n=t[0].substring(N.globals.translate.length+1).split(","),i=t.length>1?t[1].substring(6):1,o=n.length>1?n[0]:0,r=n.length>1?n[1]:0;return new W(o,r,i)},W.prototype.toString=function(){var e=X[N.globals.translate].suffix||"";return N.globals.translate+"("+this.x+"px, "+this.y+"px"+e+") scale("+this.scale+")"};var $=function(e){if(!e||!e.style[M])return this.x=0,void(this.y=0);var t=e.style[M].split(" ");this.x=parseFloat(t[0]),this.y=parseFloat(t[1])};$.prototype.toString=function(){return this.x+"px "+this.y+"px"};var G=function(e,t,n){var i;return function(){var o=this,r=arguments,a=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(o,r)}),t),a&&e.apply(o,r)}}(b,500),Y={type:"canvas",format:"png",quality:1,size:"viewport"},V=["jpeg","webp","png"];if(window.jQuery){var Z=window.jQuery;Z.fn.croppie=function(e){if("string"===typeof e){var t=Array.prototype.slice.call(arguments,1),n=Z(this).data("croppie");return"get"===e?n.get():"result"===e?n.result.apply(n,t):"bind"===e?n.bind.apply(n,t):this.each((function(){var n=Z(this).data("croppie");if(n){var i=n[e];if(!Z.isFunction(i))throw"Croppie "+e+" method not found";i.apply(n,t),"destroy"===e&&Z(this).removeData("croppie")}}))}return this.each((function(){var t=new N(this,e);t.$=Z,Z(this).data("croppie",t)}))}}N.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},customClass:"",showZoomer:!0,enableZoom:!0,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,update:function(){}},N.globals={translate:"translate3d"},i(N.prototype,{bind:function(e,t){return T.call(this,e,t)},get:function(){var e=U.call(this),t=e.points;return this.options.relative&&(t[0]/=this.elements.img.naturalWidth/100,t[1]/=this.elements.img.naturalHeight/100,t[2]/=this.elements.img.naturalWidth/100,t[3]/=this.elements.img.naturalHeight/100),e},result:function(e){return R.call(this,e)},refresh:function(){return P.call(this)},setZoom:function(e){h.call(this,e),o(this.elements.zoomer)},rotate:function(e){L.call(this,e)},destroy:function(){return B.call(this)}}),t.Croppie=window.Croppie=N,e.exports&&(e.exports=N)},void 0===(o="function"===typeof n?n.apply(t,i):n)||(e.exports=o)},916:function(e,t,n){var i;!function(o,r,a,s){"use strict";function l(e,t,n){return setTimeout(f(e,n),t)}function u(e,t,n){return!!Array.isArray(e)&&(c(e,n[t],n),!0)}function c(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function d(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=o.console&&(o.console.warn||o.console.log);return r&&r.call(o.console,i,n),e.apply(this,arguments)}}function p(e,t,n){var i,o=t.prototype;(i=e.prototype=Object.create(o)).constructor=e,i._super=o,n&&se(i,n)}function f(e,t){return function(){return e.apply(t,arguments)}}function h(e,t){return typeof e==ce?e.apply(t&&t[0]||s,t):e}function m(e,t){return e===s?t:e}function g(e,t,n){c(b(t),(function(t){e.addEventListener(t,n,!1)}))}function v(e,t,n){c(b(t),(function(t){e.removeEventListener(t,n,!1)}))}function q(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function y(e,t){return e.indexOf(t)>-1}function b(e){return e.trim().split(/\s+/g)}function _(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function w(e){return Array.prototype.slice.call(e,0)}function C(e,t,n){for(var i=[],o=[],r=0;r<e.length;){var a=t?e[r][t]:e[r];_(o,a)<0&&i.push(e[r]),o[r]=a,r++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function x(e,t){for(var n,i,o=t[0].toUpperCase()+t.slice(1),r=0;r<le.length;){if((i=(n=le[r])?n+o:t)in e)return i;r++}return s}function E(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}function S(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){h(e.options.enable,[e])&&n.handler(t)},this.init()}function I(e,t,n){var i=n.pointers.length,o=n.changedPointers.length,r=t&Ce&&i-o===0,a=t&(Ee|Se)&&i-o===0;n.isFirst=!!r,n.isFinal=!!a,r&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,o=i.length;n.firstInput||(n.firstInput=k(t)),o>1&&!n.firstMultiple?n.firstMultiple=k(t):1===o&&(n.firstMultiple=!1);var r=n.firstInput,a=n.firstMultiple,s=a?a.center:r.center,l=t.center=D(i);t.timeStamp=fe(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=R(s,l),t.distance=U(s,l),function(e,t){var n=t.center,i=e.offsetDelta||{},o=e.prevDelta||{},r=e.prevInput||{};t.eventType!==Ce&&r.eventType!==Ee||(o=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-i.x),t.deltaY=o.y+(n.y-i.y)}(n,t),t.offsetDirection=A(t.deltaX,t.deltaY);var u=T(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=pe(u.x)>pe(u.y)?u.x:u.y,t.scale=a?function(e,t){return U(t[0],t[1],Le)/U(e[0],e[1],Le)}(a.pointers,i):1,t.rotation=a?function(e,t){return R(t[1],t[0],Le)+R(e[1],e[0],Le)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,F(n,t);var c=e.element;q(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function F(e,t){var n,i,o,r,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(t.eventType!=Se&&(l>we||a.velocity===s)){var u=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,d=T(l,u,c);i=d.x,o=d.y,n=pe(d.x)>pe(d.y)?d.x:d.y,r=A(u,c),e.lastInterval=t}else n=a.velocity,i=a.velocityX,o=a.velocityY,r=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=o,t.direction=r}function k(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:de(e.pointers[n].clientX),clientY:de(e.pointers[n].clientY)},n++;return{timeStamp:fe(),pointers:t,center:D(t),deltaX:e.deltaX,deltaY:e.deltaY}}function D(e){var t=e.length;if(1===t)return{x:de(e[0].clientX),y:de(e[0].clientY)};for(var n=0,i=0,o=0;t>o;)n+=e[o].clientX,i+=e[o].clientY,o++;return{x:de(n/t),y:de(i/t)}}function T(e,t,n){return{x:t/e||0,y:n/e||0}}function A(e,t){return e===t?Ie:pe(e)>=pe(t)?0>e?Fe:ke:0>t?De:Te}function U(e,t,n){n||(n=Pe);var i=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(i*i+o*o)}function R(e,t,n){n||(n=Pe);var i=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,i)/Math.PI}function P(){this.evEl=Ne,this.evWin=Me,this.pressed=!1,S.apply(this,arguments)}function L(){this.evEl=je,this.evWin=He,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget=We,this.evWin=$e,this.started=!1,S.apply(this,arguments)}function N(e,t){var n=w(e.touches),i=w(e.changedTouches);return t&(Ee|Se)&&(n=C(n.concat(i),"identifier",!0)),[n,i]}function M(){this.evTarget=Ye,this.targetIds={},S.apply(this,arguments)}function O(e,t){var n=w(e.touches),i=this.targetIds;if(t&(Ce|xe)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,r,a=w(e.changedTouches),s=[],l=this.target;if(r=n.filter((function(e){return q(e.target,l)})),t===Ce)for(o=0;o<r.length;)i[r[o].identifier]=!0,o++;for(o=0;o<a.length;)i[a[o].identifier]&&s.push(a[o]),t&(Ee|Se)&&delete i[a[o].identifier],o++;return s.length?[C(r.concat(s),"identifier",!0),s]:void 0}function z(){S.apply(this,arguments);var e=f(this.handler,this);this.touch=new M(this.manager,e),this.mouse=new P(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function j(e,t){e&Ce?(this.primaryTouch=t.changedPointers[0].identifier,H.call(this,t)):e&(Ee|Se)&&H.call(this,t)}function H(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),Ve)}}function X(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],r=Math.abs(t-o.x),a=Math.abs(n-o.y);if(Ze>=r&&Ze>=a)return!0}return!1}function W(e,t){this.manager=e,this.set(t)}function $(e){this.options=se({},this.defaults,e||{}),this.id=ge++,this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=at,this.simultaneous={},this.requireFail=[]}function G(e){return e&dt?"cancel":e&ut?"end":e&lt?"move":e&st?"start":""}function Y(e){return e==Te?"down":e==De?"up":e==Fe?"left":e==ke?"right":""}function V(e,t){var n=t.manager;return n?n.get(e):e}function Z(){$.apply(this,arguments)}function Q(){Z.apply(this,arguments),this.pX=null,this.pY=null}function J(){Z.apply(this,arguments)}function K(){$.apply(this,arguments),this._timer=null,this._input=null}function ee(){Z.apply(this,arguments)}function te(){Z.apply(this,arguments)}function ne(){$.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ie(e,t){return(t=t||{}).recognizers=m(t.recognizers,ie.defaults.preset),new oe(e,t)}function oe(e,t){this.options=se({},ie.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(qe?L:ye?M:ve?z:P))(e,I)}(this),this.touchAction=new W(this,this.options.touchAction),re(this,!0),c(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function re(e,t){var n,i=e.element;i.style&&(c(e.options.cssProps,(function(o,r){n=x(i.style,r),t?(e.oldCssProps[n]=i.style[n],i.style[n]=o):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}function ae(e,t){var n=r.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var se,le=["","webkit","Moz","MS","ms","o"],ue=r.createElement("div"),ce="function",de=Math.round,pe=Math.abs,fe=Date.now;se="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t}:Object.assign;var he=d((function(e,t,n){for(var i=Object.keys(t),o=0;o<i.length;)(!n||n&&e[i[o]]===s)&&(e[i[o]]=t[i[o]]),o++;return e}),"extend","Use `assign`."),me=d((function(e,t){return he(e,t,!0)}),"merge","Use `assign`."),ge=1,ve="ontouchstart"in o,qe=x(o,"PointerEvent")!==s,ye=ve&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),be="touch",_e="mouse",we=25,Ce=1,xe=2,Ee=4,Se=8,Ie=1,Fe=2,ke=4,De=8,Te=16,Ae=Fe|ke,Ue=De|Te,Re=Ae|Ue,Pe=["x","y"],Le=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(E(this.element),this.evWin,this.domHandler)}};var Be={mousedown:Ce,mousemove:xe,mouseup:Ee},Ne="mousedown",Me="mousemove mouseup";p(P,S,{handler:function(e){var t=Be[e.type];t&Ce&&0===e.button&&(this.pressed=!0),t&xe&&1!==e.which&&(t=Ee),this.pressed&&(t&Ee&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:_e,srcEvent:e}))}});var Oe={pointerdown:Ce,pointermove:xe,pointerup:Ee,pointercancel:Se,pointerout:Se},ze={2:be,3:"pen",4:_e,5:"kinect"},je="pointerdown",He="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(je="MSPointerDown",He="MSPointerMove MSPointerUp MSPointerCancel"),p(L,S,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),o=Oe[i],r=ze[e.pointerType]||e.pointerType,a=r==be,s=_(t,e.pointerId,"pointerId");o&Ce&&(0===e.button||a)?0>s&&(t.push(e),s=t.length-1):o&(Ee|Se)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(s,1))}});var Xe={touchstart:Ce,touchmove:xe,touchend:Ee,touchcancel:Se},We="touchstart",$e="touchstart touchmove touchend touchcancel";p(B,S,{handler:function(e){var t=Xe[e.type];if(t===Ce&&(this.started=!0),this.started){var n=N.call(this,e,t);t&(Ee|Se)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:be,srcEvent:e})}}});var Ge={touchstart:Ce,touchmove:xe,touchend:Ee,touchcancel:Se},Ye="touchstart touchmove touchend touchcancel";p(M,S,{handler:function(e){var t=Ge[e.type],n=O.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:be,srcEvent:e})}});var Ve=2500,Ze=25;p(z,S,{handler:function(e,t,n){var i=n.pointerType==be,o=n.pointerType==_e;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)j.call(this,t,n);else if(o&&X.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Qe=x(ue.style,"touchAction"),Je=Qe!==s,Ke="compute",et="auto",tt="manipulation",nt="none",it="pan-x",ot="pan-y",rt=function(){if(!Je)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||o.CSS.supports("touch-action",n)})),e}();W.prototype={set:function(e){e==Ke&&(e=this.compute()),Je&&this.manager.element.style&&rt[e]&&(this.manager.element.style[Qe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return c(this.manager.recognizers,(function(t){h(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(y(e,nt))return nt;var t=y(e,it),n=y(e,ot);return t&&n?nt:t||n?t?it:ot:y(e,tt)?tt:et}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var i=this.actions,o=y(i,nt)&&!rt[nt],r=y(i,ot)&&!rt[ot],a=y(i,it)&&!rt[it];if(o){var s=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(s&&l&&u)return}return a&&r?void 0:o||r&&n&Ae||a&&n&Ue?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var at=1,st=2,lt=4,ut=8,ct=ut,dt=16,pt=32;$.prototype={defaults:{},set:function(e){return se(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(u(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=V(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return u(e,"dropRecognizeWith",this)||(e=V(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(u(e,"requireFailure",this))return this;var t=this.requireFail;return-1===_(t,e=V(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(u(e,"dropRequireFailure",this))return this;e=V(e,this);var t=_(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;ut>i&&t(n.options.event+G(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),i>=ut&&t(n.options.event+G(i))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=pt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(pt|at)))return!1;e++}return!0},recognize:function(e){var t=se({},e);return h(this.options.enable,[this,t])?(this.state&(ct|dt|pt)&&(this.state=at),this.state=this.process(t),void(this.state&(st|lt|ut|dt)&&this.tryEmit(t))):(this.reset(),void(this.state=pt))},process:function(e){},getTouchAction:function(){},reset:function(){}},p(Z,$,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(st|lt),o=this.attrTest(e);return i&&(n&Se||!o)?t|dt:i||o?n&Ee?t|ut:t&st?t|lt:st:pt}}),p(Q,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Re},getTouchAction:function(){var e=this.options.direction,t=[];return e&Ae&&t.push(ot),e&Ue&&t.push(it),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,o=e.direction,r=e.deltaX,a=e.deltaY;return o&t.direction||(t.direction&Ae?(o=0===r?Ie:0>r?Fe:ke,n=r!=this.pX,i=Math.abs(e.deltaX)):(o=0===a?Ie:0>a?De:Te,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=o,n&&i>t.threshold&&o&t.direction},attrTest:function(e){return Z.prototype.attrTest.call(this,e)&&(this.state&st||!(this.state&st)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Y(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),p(J,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[nt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&st)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),p(K,$,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[et]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(Ee|Se)&&!o)this.reset();else if(e.eventType&Ce)this.reset(),this._timer=l((function(){this.state=ct,this.tryEmit()}),t.time,this);else if(e.eventType&Ee)return ct;return pt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ct&&(e&&e.eventType&Ee?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=fe(),this.manager.emit(this.options.event,this._input)))}}),p(ee,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[nt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&st)}}),p(te,Z,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ae|Ue,pointers:1},getTouchAction:function(){return Q.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Ae|Ue)?t=e.overallVelocity:n&Ae?t=e.overallVelocityX:n&Ue&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&pe(t)>this.options.velocity&&e.eventType&Ee},emit:function(e){var t=Y(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),p(ne,$,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[tt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Ce&&0===this.count)return this.failTimeout();if(i&&o&&n){if(e.eventType!=Ee)return this.failTimeout();var r=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||U(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&r?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=l((function(){this.state=ct,this.tryEmit()}),t.interval,this),st):ct}return pt},failTimeout:function(){return this._timer=l((function(){this.state=pt}),this.options.interval,this),pt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ct&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ie.VERSION="2.0.8",ie.defaults={domEvents:!1,touchAction:Ke,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[J,{enable:!1},["rotate"]],[te,{direction:Ae}],[Q,{direction:Ae},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[K]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};oe.prototype={set:function(e){return se(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&ct)&&(o=t.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&n.state&(st|lt|ut)&&(o=t.curRecognizer=n),r++}},get:function(e){if(e instanceof $)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(u(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(u(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=_(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return c(b(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return c(b(e),(function(e){t?n[e]&&n[e].splice(_(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&ae(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&re(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},se(ie,{INPUT_START:Ce,INPUT_MOVE:xe,INPUT_END:Ee,INPUT_CANCEL:Se,STATE_POSSIBLE:at,STATE_BEGAN:st,STATE_CHANGED:lt,STATE_ENDED:ut,STATE_RECOGNIZED:ct,STATE_CANCELLED:dt,STATE_FAILED:pt,DIRECTION_NONE:Ie,DIRECTION_LEFT:Fe,DIRECTION_RIGHT:ke,DIRECTION_UP:De,DIRECTION_DOWN:Te,DIRECTION_HORIZONTAL:Ae,DIRECTION_VERTICAL:Ue,DIRECTION_ALL:Re,Manager:oe,Input:S,TouchAction:W,TouchInput:M,MouseInput:P,PointerEventInput:L,TouchMouseInput:z,SingleTouchInput:B,Recognizer:$,AttrRecognizer:Z,Tap:ne,Pan:Q,Swipe:te,Pinch:J,Rotate:ee,Press:K,on:g,off:v,each:c,merge:me,extend:he,assign:se,inherit:p,bindFn:f,prefixed:x}),("undefined"!=typeof o?o:"undefined"!=typeof self?self:{}).Hammer=ie,void 0===(i=function(){return ie}.call(t,n,t,e))||(e.exports=i)}(window,document)},258:function(e,t,n){var i,o,r,a;"undefined"!=typeof window&&window,"function"===typeof(o=function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?(r={id:"ev-emitter/ev-emitter",exports:{},loaded:!1},i=o.call(r.exports,n,r.exports,r),r.loaded=!0,void 0===i&&(i=r.exports)):i=o,function(n,o){"use strict";a=function(e){return function(e,t){function n(e,t){for(var n in t)e[n]=t[n];return e}function i(e){return Array.isArray(e)?e:"object"==typeof e&&"number"==typeof e.length?u.call(e):[e]}function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);var a=e;return"string"==typeof e&&(a=document.querySelectorAll(e)),a?(this.elements=i(a),this.options=n({},this.options),"function"==typeof t?r=t:n(this.options,t),r&&this.on("always",r),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(a||e))}function r(e){this.img=e}function a(e,t){this.url=e,this.element=t,this.img=new Image}var s=e.jQuery,l=e.console,u=Array.prototype.slice;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&c[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(i=0;i<r.length;i++){var a=r[i];this.addElementBackgroundImages(a)}}}};var c={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var n=new a(e,t);this.images.push(n)},o.prototype.check=function(){function e(e,n,i){setTimeout((function(){t.progress(e,n,i)}))}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach((function(t){t.once("progress",e),t.check()})):void this.complete()},o.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(r.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((s=t).fn.imagesLoaded=function(e,t){return new o(this,e,t).jqDeferred.promise(s(this))})},o.makeJQueryPlugin(),o}(n,e)}.apply(t,[i]),void 0===a||(e.exports=a)}("undefined"!=typeof window?window:this)},7002:function(){!function(e,t,n){var i=/\+/g;function o(e){return e}function r(e){return decodeURIComponent(e.replace(i," "))}e.cookie=function(n,i,a){if(undefined!==i&&!/Object/.test(Object.prototype.toString.call(i))){if(a=e.extend({},e.cookie.defaults,a),null===i&&(a.expires=-1),"number"===typeof a.expires){var s=a.expires,l=a.expires=new Date;l.setDate(l.getDate()+s)}return i=String(i),t.cookie=[encodeURIComponent(n),"=",a.raw?i:encodeURIComponent(i),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var u,c=(a=i||e.cookie.defaults||{}).raw?o:r,d=t.cookie.split("; "),p=0;u=d[p]&&d[p].split("=");p++)if(c(u.shift())===n)return c(u.join("="));return null},e.cookie.defaults={},e.removeCookie=function(t,n){return null!==e.cookie(t,n)&&(e.cookie(t,null,n),!0)}}(jQuery,document)},950:function(module,exports){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,qq=function(e){"use strict";return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return!!t&&(e===t||(e.contains?e.contains(t):!!(8&t.compareDocumentPosition(e))))},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){return null!=t.opacity&&"string"!==typeof e.style.opacity&&"undefined"!==typeof e.filters&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t){return new RegExp("(^| )"+t+"( |$)").test(e.className)},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t){var n,i=[];return e.querySelectorAll?e.querySelectorAll("."+t):(n=e.getElementsByTagName("*"),qq.each(n,(function(e,n){qq(n).hasClass(t)&&i.push(n)})),i)},children:function(){for(var t=[],n=e.firstChild;n;)1===n.nodeType&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")},hasAttribute:function(t){var n;return e.hasAttribute?!!e.hasAttribute(t)&&null==/^false$/i.exec(e.getAttribute(t)):void 0!==(n=e[t])&&null==/^false$/i.exec(n)}}};qq.log=function(e,t){"use strict";window.console&&(t&&"info"!==t?window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e):window.console.log(e))},qq.isObject=function(e){"use strict";return e&&!e.nodeType&&"[object Object]"===Object.prototype.toString.call(e)},qq.isFunction=function(e){"use strict";return"function"===typeof e},qq.isArray=function(e){"use strict";return"[object Array]"===Object.prototype.toString.call(e)||window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){"use strict";return"[object DataTransferItemList]"===Object.prototype.toString.call(e)},qq.isNodeList=function(e){"use strict";return"[object NodeList]"===Object.prototype.toString.call(e)||e.item&&e.namedItem},qq.isString=function(e){"use strict";return"[object String]"===Object.prototype.toString.call(e)},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){"use strict";var t=Array.prototype.slice.call(arguments,1),n=e;return qq.each(t,(function(e,t){n=n.replace(/{}/,t)})),n},qq.isFile=function(e){"use strict";return window.File&&"[object File]"===Object.prototype.toString.call(e)},qq.isFileList=function(e){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(e)},qq.isFileOrInput=function(e){"use strict";return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e){return!(!window.HTMLInputElement||"[object HTMLInputElement]"!==Object.prototype.toString.call(e)||!e.type||"file"!==e.type.toLowerCase())||!(!e.tagName||"input"!==e.tagName.toLowerCase()||!e.type||"file"!==e.type.toLowerCase())},qq.isBlob=function(e){"use strict";return window.Blob&&"[object Blob]"===Object.prototype.toString.call(e)},qq.isXhrUploadSupported=function(){"use strict";var e=document.createElement("input");return e.type="file",void 0!==e.multiple&&"undefined"!==typeof File&&"undefined"!==typeof FormData&&"undefined"!==typeof qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){"use strict";return e.items&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){"use strict";return!qq.android()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.sliceBlob=function(e,t,n){return(e.slice||e.mozSlice||e.webkitSlice).call(e,t,n)},qq.arrayBufferToHex=function(e){var t="",n=new Uint8Array(e);return qq.each(n,(function(e,n){var i=n.toString(16);i.length<2&&(i="0"+i),t+=i})),t},qq.readBlobToHex=function(e,t,n){var i=qq.sliceBlob(e,t,t+n),o=new FileReader,r=new qq.Promise;return o.onload=function(){r.success(qq.arrayBufferToHex(o.result))},o.readAsArrayBuffer(i),r},qq.extend=function(e,t,n){"use strict";return qq.each(t,(function(t,i){n&&qq.isObject(i)?(void 0===e[t]&&(e[t]={}),qq.extend(e[t],i,!0)):e[t]=i})),e},qq.override=function(e,t){var n={},i=t(n);return qq.each(i,(function(t,i){void 0!==e[t]&&(n[t]=e[t]),e[t]=i})),e},qq.indexOf=function(e,t,n){"use strict";if(e.indexOf)return e.indexOf(t,n);n=n||0;var i=e.length;for(n<0&&(n+=i);n<i;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){"use strict";return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},qq.ie=function(){"use strict";return-1!==navigator.userAgent.indexOf("MSIE")},qq.ie7=function(){"use strict";return-1!==navigator.userAgent.indexOf("MSIE 7")},qq.ie10=function(){"use strict";return-1!==navigator.userAgent.indexOf("MSIE 10")},qq.safari=function(){"use strict";return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){"use strict";return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.firefox=function(){"use strict";return-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){"use strict";return"Win32"===navigator.platform},qq.android=function(){"use strict";return-1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.ios7=function(){"use strict";return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 7_")},qq.ios=function(){"use strict";return-1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")},qq.preventDefault=function(e){"use strict";e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=function(){"use strict";var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.each=function(e,t){"use strict";var n;if(e)if(window.Storage&&e.constructor===window.Storage)for(n=0;n<e.length&&!1!==t(e.key(n),e.getItem(e.key(n)));n++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(n=0;n<e.length&&!1!==t(n,e[n]);n++);else if(qq.isString(e))for(n=0;n<e.length&&!1!==t(n,e.charAt(n));n++);else for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!1===t(n,e[n]))break},qq.bind=function(e,t){if(qq.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return function(){var i=qq.extend([],n);return arguments.length&&(i=i.concat(Array.prototype.slice.call(arguments))),e.apply(t,i)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,t,n){"use strict";var i=[],o="&",r=function(e,n){var o=t?/\[\]$/.test(t)?t:t+"["+n+"]":n;"undefined"!==o&&"undefined"!==n&&i.push("object"===typeof e?qq.obj2url(e,o,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(o)+"="+encodeURIComponent(e()):encodeURIComponent(o)+"="+encodeURIComponent(e))};return!n&&t?(o=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",i.push(t),i.push(qq.obj2url(e))):"[object Array]"===Object.prototype.toString.call(e)&&"undefined"!==typeof e?qq.each(e,(function(e,t){r(t,e)})):"undefined"!==typeof e&&null!==e&&"object"===typeof e?qq.each(e,(function(e,t){r(t,e)})):i.push(encodeURIComponent(t)+"="+encodeURIComponent(e)),t?i.join(o):i.join(o).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){"use strict";return t||(t=new FormData),qq.each(e,(function(e,i){e=n?n+"["+e+"]":e,qq.isObject(i)?qq.obj2FormData(i,t,e):qq.isFunction(i)?t.append(e,i()):t.append(e,i)})),t},qq.obj2Inputs=function(e,t){"use strict";var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(e,i){(n=document.createElement("input")).setAttribute("name",e),n.setAttribute("value",i),t.appendChild(n)}}),t},qq.setCookie=function(e,t,n){var i=new Date,o="";n&&(i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toGMTString()),document.cookie=e+"="+t+o+"; path=/"},qq.getCookie=function(e){var t,n=e+"=",i=document.cookie.split(";");return qq.each(i,(function(e,i){for(var o=i;" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return t=o.substring(n.length,o.length),!1})),t},qq.getCookieNames=function(e){var t=document.cookie.split(";"),n=[];return qq.each(t,(function(t,i){var o=(i=qq.trimStr(i)).indexOf("=");i.match(e)&&n.push(i.substr(0,o))})),n},qq.deleteCookie=function(e){qq.setCookie(e,"",-1)},qq.areCookiesEnabled=function(){var e="qqCookieTest:"+1e5*Math.random();return qq.setCookie(e,1),!!qq.getCookie(e)&&(qq.deleteCookie(e),!0)},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(t>0)return e.substr(t,e.length-t)},qq.DisposeSupport=function(){"use strict";var e=[];return{dispose:function(){var t;do{(t=e.shift())&&t()}while(t)},attach:function(){var e=arguments;this.addDisposer(qq(e[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}},qq.version="4.0.3",qq.supportedFeatures=function(){var e,t,n;function i(){return!!window.XMLHttpRequest&&void 0!==qq.createXhrInstance().withCredentials}function o(){return void 0!==window.XDomainRequest}return{uploading:e=function(){var e,t=!0;try{(e=document.createElement("input")).type="file",qq(e).hide(),e.disabled&&(t=!1)}catch(n){t=!1}return t}(),ajaxUploading:t=e&&qq.isXhrUploadSupported(),fileDrop:t,folderDrop:t&&qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/),chunking:n=t&&qq.isFileChunkingSupported(),resume:t&&n&&qq.areCookiesEnabled(),uploadCustomHeaders:t,uploadNonMultipart:t,itemSizeValidation:t,uploadViaPaste:t&&qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/),progressBar:t,uploadCors:e&&(void 0!==window.postMessage||t),deleteFileCorsXhr:i(),deleteFileCorsXdr:o(),deleteFileCors:!!i()||o(),canDetermineSize:t,folderSelection:void 0!==document.createElement("input").webkitdirectory,imagePreviews:t&&void 0!==window.FileReader}}(),qq.Promise=function(){"use strict";var e,t,n=[],i=[],o=[],r=0;return{then:function(o,a){return 0===r?(o&&n.push(o),a&&i.push(a)):-1===r&&a?a.apply(null,t):o&&o.apply(null,e),this},done:function(n){return 0===r?o.push(n):n.apply(null,void 0===t?e:t),this},success:function(){return r=1,e=arguments,n.length&&qq.each(n,(function(t,n){n.apply(null,e)})),o.length&&qq.each(o,(function(t,n){n.apply(null,e)})),this},failure:function(){return r=-1,t=arguments,i.length&&qq.each(i,(function(e,n){n.apply(null,t)})),o.length&&qq.each(o,(function(e,n){n.apply(null,t)})),this}}},qq.isPromise=function(e){return e&&e.then&&e.done},qq.UploadButton=function(e){"use strict";var t,n,i=new qq.DisposeSupport,o={element:null,multiple:!1,acceptFiles:null,folders:!1,name:"qqfile",onChange:function(e){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};function r(){var e=document.createElement("input");return e.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,n),o.multiple&&e.setAttribute("multiple",""),o.folders&&qq.supportedFeatures.folderSelection&&e.setAttribute("webkitdirectory",""),o.acceptFiles&&e.setAttribute("accept",o.acceptFiles),e.setAttribute("type","file"),e.setAttribute("name",o.name),qq(e).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),o.element.appendChild(e),i.attach(e,"change",(function(){o.onChange(e)})),i.attach(e,"mouseover",(function(){qq(o.element).addClass(o.hoverClass)})),i.attach(e,"mouseout",(function(){qq(o.element).removeClass(o.hoverClass)})),i.attach(e,"focus",(function(){qq(o.element).addClass(o.focusClass)})),i.attach(e,"blur",(function(){qq(o.element).removeClass(o.focusClass)})),window.attachEvent&&e.setAttribute("tabIndex","-1"),e}return qq.extend(o,e),n=qq.getUniqueId(),qq(o.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),t=r(),{getInput:function(){return t},getButtonId:function(){return n},setMultiple:function(e){e!==o.multiple&&(e?t.setAttribute("multiple",""):t.removeAttribute("multiple"))},setAcceptFiles:function(e){e!==o.acceptFiles&&t.setAttribute("accept",e)},reset:function(){t.parentNode&&qq(t).remove(),qq(o.element).removeClass(o.focusClass),t=r()}}},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(e){var t=[],n={},i={},o={};return{added:function(r){var a=e.getUuid(r),s=e.getName(r),l=e.getSize(r),u=qq.status.SUBMITTING,c=t.push({id:r,name:s,originalName:s,uuid:a,size:l,status:u})-1;n[r]=c,i[a]=c,void 0===o[u]&&(o[u]=[]),o[u].push(c),e.onStatusChange(r,void 0,u)},retrieve:function(e){return qq.isObject(e)&&t.length?void 0!==e.id?function(e){if(qq.isArray(e)){var i=[];return qq.each(e,(function(e,o){i.push(t[n[o]])})),i}return t[n[e]]}(e.id):void 0!==e.uuid?function(e){if(qq.isArray(e)){var n=[];return qq.each(e,(function(e,o){n.push(t[i[o]])})),n}return t[i[e]]}(e.uuid):e.status?(r=e.status,a=[],s=[].concat(r),qq.each(s,(function(e,n){var i=o[n];void 0!==i&&qq.each(i,(function(e,n){a.push(t[n])}))})),a):void 0:qq.extend([],t,!0);var r,a,s},reset:function(){t=[],n={},i={},o={}},setStatus:function(i,r){var a=n[i],s=t[a].status,l=qq.indexOf(o[s],a);o[s].splice(l,1),t[a].status=r,void 0===o[r]&&(o[r]=[]),o[r].push(a),e.onStatusChange(i,s,r)},uuidChanged:function(e,o){var r=n[e],a=t[r].uuid;t[r].uuid=o,i[o]=r,delete i[a]},nameChanged:function(e,i){var o=n[e];t[o].name=i}}},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",UPLOADING:"uploading",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},qq.basePublicApi={log:function(e,t){!this._options.debug||t&&"info"!==t?t&&"info"!==t&&qq.log("[FineUploader "+qq.version+"] "+e,t):qq.log("[FineUploader "+qq.version+"] "+e)},setParams:function(e,t){null==t?this._options.request.params=e:this._paramsStore.setParams(e,t)},setDeleteFileParams:function(e,t){null==t?this._options.deleteFile.params=e:this._deleteFileParamsStore.setParams(e,t)},setEndpoint:function(e,t){null==t?this._options.request.endpoint=e:this._endpointStore.setEndpoint(e,t)},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getNetUploads:function(){return this._netUploaded},uploadStoredFiles:function(){var e;if(0===this._storedIds.length)this._itemError("noFilesError");else for(;this._storedIds.length;)e=this._storedIds.shift(),this._handler.upload(e)},clearStoredFiles:function(){this._storedIds=[]},retry:function(e){return this._manualRetry(e)},cancel:function(e){this._handler.cancel(e)},cancelAll:function(){var e=[],t=this;qq.extend(e,this._storedIds),qq.each(e,(function(e,n){t.cancel(n)})),this._handler.cancelAll()},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,(function(e,t){t.reset()})),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset()},addFiles:function(e,t,n){var i,o,r,a=[];if(e){for(qq.isFileList(e)||(e=[].concat(e)),i=0;i<e.length;i+=1)if(o=e[i],qq.isFileOrInput(o))if(qq.isInput(o)&&qq.supportedFeatures.ajaxUploading)for(r=0;r<o.files.length;r++)a.push(o.files[r]);else a.push(o);else this.log(o+" is not a File or INPUT element!  Ignoring!","warn");this.log("Received "+a.length+" files or inputs."),this._prepareItemsForUpload(a,t,n)}},addBlobs:function(e,t,n){if(e){var i=[].concat(e),o=[],r=this;qq.each(i,(function(e,t){qq.isBlob(t)&&!qq.isFileOrInput(t)?o.push({blob:t,name:r._options.blobs.defaultName}):qq.isObject(t)&&t.blob&&t.name?o.push(t):r.log("addBlobs: entry at index "+e+" is not a Blob or a BlobData object","error")})),this._prepareItemsForUpload(o,t,n)}else this.log("undefined or non-array parameter passed into addBlobs","error")},getUuid:function(e){return this._handler.getUuid(e)},setUuid:function(e,t){return this._handler.setUuid(e,t)},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._handler.getSize(e)},getName:function(e){return this._handler.getName(e)},setName:function(e,t){this._handler.setName(e,t),this._uploadData.nameChanged(e,t)},getFile:function(e){return this._handler.getFile(e)},deleteFile:function(e){this._onSubmitDelete(e)},setDeleteFileEndpoint:function(e,t){null==t?this._options.deleteFile.endpoint=e:this._deleteFileEndpointStore.setEndpoint(e,t)},doesExist:function(e){return this._handler.isValid(e)},getUploads:function(e){return this._uploadData.retrieve(e)},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},drawThumbnail:function(e,t,n,i){if(this._imageGenerator){var o=this._thumbnailUrls[e],r={scale:n>0,maxSize:n>0?n:null};return!i&&qq.supportedFeatures.imagePreviews&&(o=this.getFile(e)),null==o?(new qq.Promise).failure(t,"File or URL not found."):this._imageGenerator.generate(o,t,r)}}},qq.basePrivateApi={_generateExtraButtonSpecs:function(){var e=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,(function(t,n){var i=n.multiple,o=qq.extend({},e._options.validation,!0),r=qq.extend({},n);void 0===i&&(i=e._options.multiple),r.validation&&qq.extend(o,n.validation,!0),qq.extend(r,{multiple:i,validation:o},!0),e._initExtraButton(r)}))},_initExtraButton:function(e){var t=this._createUploadButton({element:e.element,multiple:e.multiple,accept:e.validation.acceptFiles,folders:e.folders});this._extraButtonSpecs[t.getButtonId()]=e},_getButtonId:function(e){var t,n;if(e&&!e.blob&&!qq.isBlob(e)){if(qq.isFile(e))return e.qqButtonId;if("input"===e.tagName.toLowerCase()&&"file"===e.type.toLowerCase())return e.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(t=e.getElementsByTagName("input"),qq.each(t,(function(e,t){if("file"===t.getAttribute("type"))return n=t,!1})),n)return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_getButton:function(e){var t=this._extraButtonSpecs[e];return t?t.element:e===this._defaultButtonId?this._options.button:void 0},_handleCheckedCallback:function(e){var t=this,n=e.callback();return qq.isPromise(n)?(this.log(e.name+" - waiting for "+e.name+" promise to be fulfilled for "+e.identifier),n.then((function(n){t.log(e.name+" promise success for "+e.identifier),e.onSuccess(n)}),(function(){e.onFailure?(t.log(e.name+" promise failure for "+e.identifier),e.onFailure()):t.log(e.name+" promise failure for "+e.identifier)}))):(!1!==n?e.onSuccess(n):e.onFailure?(this.log(e.name+" - return value was 'false' for "+e.identifier+".  Invoking failure callback."),e.onFailure()):this.log(e.name+" - return value was 'false' for "+e.identifier+".  Will not proceed."),n)},_createUploadButton:function(e){var t=this,n=void 0===e.multiple?this._options.multiple:e.multiple,i=e.accept||this._options.validation.acceptFiles,o=new qq.UploadButton({element:e.element,folders:e.folders,name:this._options.request.inputName,multiple:n&&qq.supportedFeatures.ajaxUploading,acceptFiles:i,onChange:function(e){t._onInputChange(e)},hoverClass:this._options.classes.buttonHover,focusClass:this._options.classes.buttonFocus});return this._disposeSupport.addDisposer((function(){o.dispose()})),t._buttons.push(o),o},_createUploadHandler:function(e,t){var n=this,i={debug:this._options.debug,maxConnections:this._options.maxConnections,inputName:this._options.request.inputName,cors:this._options.cors,demoMode:this._options.demoMode,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(n.log,n),onProgress:function(e,t,i,o){n._onProgress(e,t,i,o),n._options.callbacks.onProgress(e,t,i,o)},onComplete:function(e,t,i,o){var r=n._onComplete(e,t,i,o);qq.isPromise(r)?r.done((function(){n._options.callbacks.onComplete(e,t,i,o)})):n._options.callbacks.onComplete(e,t,i,o)},onCancel:function(e,t){return n._handleCheckedCallback({name:"onCancel",callback:qq.bind(n._options.callbacks.onCancel,n,e,t),onSuccess:qq.bind(n._onCancel,n,e,t),identifier:e})},onUpload:function(e,t){n._onUpload(e,t),n._options.callbacks.onUpload(e,t)},onUploadChunk:function(e,t,i){n._options.callbacks.onUploadChunk(e,t,i)},onResume:function(e,t,i){return n._options.callbacks.onResume(e,t,i)},onAutoRetry:function(e,t,i,o){return n._onAutoRetry.apply(n,arguments)},onUuidChanged:function(e,t){n._uploadData.uuidChanged(e,t)}};return qq.each(this._options.request,(function(e,t){i[e]=t})),e&&qq.each(e,(function(e,t){i[e]=t})),new qq.UploadHandler(i,t)},_createDeleteHandler:function(){var e=this;return new qq.DeleteFileAjaxRequestor({method:this._options.deleteFile.method,maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._options.deleteFile.customHeaders,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,demoMode:this._options.demoMode,cors:this._options.cors,log:qq.bind(e.log,e),onDelete:function(t){e._onDelete(t),e._options.callbacks.onDelete(t)},onDeleteComplete:function(t,n,i){e._onDeleteComplete(t,n,i),e._options.callbacks.onDeleteComplete(t,n,i)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(e.log,e),pasteReceived:function(t){e._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(e._options.callbacks.onPasteReceived,e,t),onSuccess:qq.bind(e._handlePasteSuccess,e,t),identifier:"pasted image"})}}})},_createUploadDataTracker:function(){var e=this;return new qq.UploadData({getName:function(t){return e.getName(t)},getUuid:function(t){return e.getUuid(t)},getSize:function(t){return e.getSize(t)},onStatusChange:function(t,n,i){e._onUploadStatusChange(t,n,i),e._options.callbacks.onStatusChange(t,n,i)}})},_onUploadStatusChange:function(e,t,n){},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],i=t;null==i&&(i=this._options.paste.defaultName),i+="."+n,this.addBlobs({name:i,blob:e})},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",(function(t){if(e.getInProgress())return(t=t||window.event).returnValue=e._options.messages.onLeave,e._options.messages.onLeave}))},_onSubmit:function(e,t){this._netUploadedOrQueued++},_onProgress:function(e,t,n,i){},_onComplete:function(e,t,n,i){return n.success?(n.thumbnailUrl&&(this._thumbnailUrls[e]=n.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED)),this._maybeParseAndSendUploadError(e,t,n,i),!!n.success},_onCancel:function(e,t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var n=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&n>=0&&this._storedIds.splice(n,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_isDeletePossible:function(){return!(!qq.DeleteFileAjaxRequestor||!this._options.deleteFile.enabled)&&(!this._options.cors.expected||(!!qq.supportedFeatures.deleteFileCorsXhr||!(!qq.supportedFeatures.deleteFileCorsXdr||!this._options.cors.allowXdr)))},_onSubmitDelete:function(e,t,n){var i,o=this.getUuid(e);return t&&(i=qq.bind(t,this,e,o,n)),this._isDeletePossible()?this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:i||qq.bind(this._deleteHandler.sendDelete,this,e,o,n),identifier:e}):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,n){var i=this._handler.getName(e);n?(this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+i+"' has failed.","error"),void 0===t.withCredentials?this._options.callbacks.onError(e,i,"Delete request failed",t):this._options.callbacks.onError(e,i,"Delete request failed with response code "+t.status,t)):(this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+i+"' has succeeded."))},_onUpload:function(e,t){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else e.value.length>0&&this.addFiles(e);qq.each(this._buttons,(function(e,t){t.reset()}))},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onAutoRetry:function(e,t,n,i,o){var r=this;if(r._preventRetries[e]=n[r._options.retry.preventRetryResponseProperty],r._shouldAutoRetry(e,t,n))return r._maybeParseAndSendUploadError.apply(r,arguments),r._options.callbacks.onAutoRetry(e,t,r._autoRetries[e]+1),r._onBeforeAutoRetry(e,t),r._retryTimeouts[e]=setTimeout((function(){r.log("Retrying "+t+"..."),r._autoRetries[e]++,r._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o?o(e):r._handler.retry(e)}),1e3*r._options.retry.autoAttemptDelay),!0},_shouldAutoRetry:function(e,t,n){return!(this._preventRetries[e]||!this._options.retry.enableAuto)&&(void 0===this._autoRetries[e]&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts)},_onBeforeManualRetry:function(e){var t=this._options.validation.itemLimit;if(this._preventRetries[e])return this.log("Retries are forbidden for id "+e,"warn"),!1;if(this._handler.isValid(e)){var n=this._handler.getName(e);return!1!==this._options.callbacks.onManualRetry(e,n)&&(t>0&&this._netUploadedOrQueued+1>t?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+n+"' (id: "+e+")..."),!0))}return this.log("'"+e+"' is not a valid file ID","error"),!1},_manualRetry:function(e,t){if(this._onBeforeManualRetry(e))return this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0},_maybeParseAndSendUploadError:function(e,t,n,i){if(!n.success)if(i&&200!==i.status&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+i.status,i);else{var o=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(e,t,o,i)}},_prepareItemsForUpload:function(e,t,n){var i=this._getValidationDescriptors(e),o=this._getButtonId(e[0]),r=this._getButton(o);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,i,r),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,i,e,t,n,r),identifier:"batch validation"})},_upload:function(e,t,n){var i=this._handler.add(e),o=this._handler.getName(i);this._uploadData.added(i),t&&this.setParams(t,i),n&&this.setEndpoint(n,i),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,i,o),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,i,o),onFailure:qq.bind(this._fileOrBlobRejected,this,i,o),identifier:i})},_onSubmitCallbackSuccess:function(e,t){var n;this._uploadData.setStatus(e,qq.status.SUBMITTED),(n=qq.supportedFeatures.ajaxUploading?this._handler.getFile(e).qqButtonId:this._getButtonId(this._handler.getInput(e)))&&(this._buttonIdsForFileIds[e]=n),this._onSubmit.apply(this,arguments),this._onSubmitted.apply(this,arguments),this._options.callbacks.onSubmitted.apply(this,arguments),this._options.autoUpload?this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED):this._storeForLater(e)},_onSubmitted:function(e){},_storeForLater:function(e){this._storedIds.push(e)},_onValidateBatchCallbackSuccess:function(e,t,n,i,o){var r,a=this._options.validation.itemLimit,s=this._netUploadedOrQueued+e.length;0===a||s<=a?t.length>0?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],o),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,n,i),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,n,i),identifier:"Item '"+t[0].name+"', size: "+t[0].size}):this._itemError("noFilesError"):(r=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,s).replace(/\{itemLimit\}/g,a),this._batchError(r))},_onValidateCallbackSuccess:function(e,t,n,i){var o=t+1,r=this._getValidationDescriptor(e[t]),a=!1;this._validateFileOrBlobData(e[t],r)&&(a=!0,this._upload(e[t],n,i)),this._maybeProcessNextItemAfterOnValidateCallback(a,e,o,n,i)},_onValidateCallbackFailure:function(e,t,n,i){var o=t+1;this._fileOrBlobRejected(void 0,e[0].name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,n,i)},_maybeProcessNextItemAfterOnValidateCallback:function(e,t,n,i,o){var r=this;t.length>n&&(!e&&this._options.validation.stopOnFirstInvalidFile||setTimeout((function(){var e=r._getValidationDescriptor(t[n]);r._handleCheckedCallback({name:"onValidate",callback:qq.bind(r._options.callbacks.onValidate,r,t[n]),onSuccess:qq.bind(r._onValidateCallbackSuccess,r,t,n,i,o),onFailure:qq.bind(r._onValidateCallbackFailure,r,t,n,i,o),identifier:"Item '"+e.name+"', size: "+e.size})}),0))},_validateFileOrBlobData:function(e,t){var n=t.name,i=t.size,o=this._getButtonId(e),r=this._extraButtonSpecs[o],a=r?r.validation:this._options.validation,s=!0;return qq.isFileOrInput(e)&&!this._isAllowedExtension(a.allowedExtensions,n)?(this._itemError("typeError",n,e),s=!1):0===i?(this._itemError("emptyError",n,e),s=!1):i&&a.sizeLimit&&i>a.sizeLimit?(this._itemError("sizeError",n,e),s=!1):i&&i<a.minSizeLimit&&(this._itemError("minSizeError",n,e),s=!1),s||this._fileOrBlobRejected(void 0,n),s},_fileOrBlobRejected:function(e){void 0!==e&&this._uploadData.setStatus(e,qq.status.REJECTED)},_itemError:function(e,t,n){var i,o,r=this._options.messages[e],a=[],s=[].concat(t),l=s[0],u=this._getButtonId(n),c=this._extraButtonSpecs[u],d=c?c.validation:this._options.validation;function p(e,t){r=r.replace(e,t)}return qq.each(d.allowedExtensions,(function(e,t){qq.isString(t)&&a.push(t)})),i=a.join(", ").toLowerCase(),p("{file}",this._options.formatFileName(l)),p("{extensions}",i),p("{sizeLimit}",this._formatSize(d.sizeLimit)),p("{minSizeLimit}",this._formatSize(d.minSizeLimit)),null!==(o=r.match(/(\{\w+\})/g))&&qq.each(o,(function(e,t){p(t,s[e])})),this._options.callbacks.onError(null,l,r,void 0),r},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_isAllowedExtension:function(e,t){var n=!1;return!e.length||(qq.each(e,(function(e,i){if(qq.isString(i)){var o=new RegExp("\\."+i+"$","i");if(null!=t.match(o))return n=!0,!1}})),n)},_formatSize:function(e){var t=-1;do{e/=1e3,t++}while(e>999);return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_wrapCallbacks:function(){var e,t;for(var n in e=this,t=function(t,n,i){try{return n.apply(e,i)}catch(o){e.log("Caught exception in '"+t+"' callback - "+o.message,"error")}},this._options.callbacks)!function(){var i,o;i=n,o=e._options.callbacks[i],e._options.callbacks[i]=function(){return t(i,o,arguments)}}()},_parseFileOrBlobDataName:function(e){return qq.isFileOrInput(e)?e.value?e.value.replace(/.*(\/|\\)/,""):null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name:e.name},_parseFileOrBlobDataSize:function(e){var t;return qq.isFileOrInput(e)?void 0===e.value&&(t=null!==e.fileSize&&void 0!==e.fileSize?e.fileSize:e.size):t=e.blob.size,t},_getValidationDescriptor:function(e){var t={},n=this._parseFileOrBlobDataName(e),i=this._parseFileOrBlobDataSize(e);return t.name=n,void 0!==i&&(t.size=i),t},_getValidationDescriptors:function(e){var t=this,n=[];return qq.each(e,(function(e,i){n.push(t._getValidationDescriptor(i))})),n},_createParamsStore:function(e){var t={},n=this;return{setParams:function(e,n){var i={};qq.extend(i,e),t[n]=i},getParams:function(i){var o={};return null!=i&&t[i]?qq.extend(o,t[i]):qq.extend(o,n._options[e].params),o},remove:function(e){return delete t[e]},reset:function(){t={}}}},_createEndpointStore:function(e){var t={},n=this;return{setEndpoint:function(e,n){t[n]=e},getEndpoint:function(i){return null!=i&&t[i]?t[i]:n._options[e].endpoint},remove:function(e){return delete t[e]},reset:function(){t={}}}},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var e="image/*;capture=camera",t=this._options.camera.button,n=t?this._getButtonId(t):this._defaultButtonId,i=n?this._extraButtonSpecs[n]:this._options;i.multiple=!1,null===i.validation.acceptFiles?i.validation.acceptFiles=e:i.validation.acceptFiles+=","+e,qq.each(this._buttons,(function(e,t){if(t.getButtonId()===n)return t.setMultiple(i.multiple),t.setAcceptFiles(i.acceptFiles),!1}))}}},qq.FineUploaderBasic=function(e){this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{endpoint:"/server/upload",params:{},paramsInBody:!0,customHeaders:{},forceMultipart:!0,inputName:"qqfile",uuidName:"qquuid",totalFileSizeName:"qqtotalfilesize",filenameParam:"qqfilename"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null},callbacks:{onSubmit:function(e,t){},onSubmitted:function(e,t){},onComplete:function(e,t,n,i){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onResume:function(e,t,n){},onProgress:function(e,t,n,i){},onError:function(e,t,n,i){},onAutoRetry:function(e,t,n){},onManualRetry:function(e,t){},onValidateBatch:function(e){},onValidate:function(e){},onSubmitDelete:function(e){},onDelete:function(e){},onDeleteComplete:function(e,t,n){},onPasteReceived:function(e){},onStatusChange:function(e,t,n){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,partSize:2e6,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(e){return void 0!==e&&e.length>33&&(e=e.slice(0,19)+"..."+e.slice(-14)),e},text:{defaultResponseError:"Upload failure reason unknown",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[]},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._paramsStore=this._createParamsStore("request"),this._deleteFileParamsStore=this._createParamsStore("deleteFile"),this._endpointStore=this._createEndpointStore("request"),this._deleteFileEndpointStore=this._createEndpointStore("deleteFile"),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequestor&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():qq.log("Paste support module not found","info")),this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this))},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi),qq.AjaxRequestor=function(e){"use strict";var t,n,i=[],o=[],r={validMethods:["POST"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},successfulResponseCodes:{DELETE:[200,202,204],POST:[200,204]},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onSend:function(e){},onComplete:function(e,t,n){},onCancel:function(e){}};if(qq.extend(r,e),t=r.log,qq.indexOf(r.validMethods,a())<0)throw new Error("'"+a()+"' is not a supported method for this type of request!");function a(){return r.method.toUpperCase()}function s(e){return r.cors.expected&&void 0===e.withCredentials}function l(e,t){var n=o[e].xhr;return n||t||(n=r.cors.expected?function(){var e;return(window.XMLHttpRequest||window.ActiveXObject)&&void 0===(e=qq.createXhrInstance()).withCredentials&&(e=new XDomainRequest),e}():qq.createXhrInstance(),o[e].xhr=n),n}function u(e){var t=qq.indexOf(i,e),n=r.maxConnections;delete o[e],i.splice(t,1),i.length>=n&&t<n&&d(i[n-1])}function c(e,n){var i,o=l(e),c=a(),d=!0===n;u(e),d?t(c+" request for "+e+" has failed","error"):s(o)||(i=o.status,qq.indexOf(r.successfulResponseCodes[a()],i)>=0)||(d=!0,t(c+" request for "+e+" has failed - response code "+o.status,"error")),r.onComplete(e,o,d)}function d(e){var i,u=l(e),d=a(),p=function(e){var t,n=o[e].onDemandParams,i=r.mandatedParams;return r.paramsStore.getParams&&(t=r.paramsStore.getParams(e)),n&&qq.each(n,(function(e,n){(t=t||{})[e]=n})),i&&qq.each(i,(function(e,n){(t=t||{})[e]=n})),t}(e),f=o[e].body;r.onSend(e),i=function(e,t){var i=r.endpointStore.getEndpoint(e),a=o[e].addToPath;void 0!=a&&(i+="/"+a);return n&&t?qq.obj2url(t,i):i}(e,p),s(u)?(u.onload=function(e){return function(){c(e)}}(e),u.onerror=function(e){return function(){c(e,!0)}}(e)):u.onreadystatechange=function(e){return function(){4===l(e).readyState&&c(e)}}(e),u.open(d,i,!0),r.cors.expected&&r.cors.sendCredentials&&!s(u)&&(u.withCredentials=!0),function(e){var t=l(e),n=r.customHeaders,i=o[e].additionalHeaders||{},u=a(),c={};s(t)&&(r.cors.expected&&qq.indexOf(["GET","POST","HEAD"],a())>=0&&(d=!1,qq.each(d,(function(e,t){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],t)<0)return d=!0,!1})),!d)||(t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("Cache-Control","no-cache")));var d;!r.contentType||"POST"!==u&&"PUT"!==u||s(t)||t.setRequestHeader("Content-Type",r.contentType);s(t)||(qq.extend(c,n),qq.extend(c,i),qq.each(c,(function(e,n){t.setRequestHeader(e,n)})))}(e),t("Sending "+d+" request for "+e),f?u.send(f):n||!p?u.send():p&&r.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")>=0?u.send(qq.obj2url(p,"")):p&&r.contentType.toLowerCase().indexOf("application/json")>=0?u.send(JSON.stringify(p)):u.send(p)}return n="GET"===a()||"DELETE"===a(),{send:function(e,t,n,a,s){o[e]={addToPath:t,onDemandParams:n,additionalHeaders:a,body:s},i.push(e)<=r.maxConnections&&d(e)},cancel:function(e){return function(e){var n=l(e,!0),i=a();return!!n&&(s(n)?(n.onerror=null,n.onload=null):n.onreadystatechange=null,n.abort(),u(e),t("Cancelled "+i+" for "+e),r.onCancel(e),!0)}(e)},getMethod:function(){return a()}}},qq.UploadHandler=function(e,t){"use strict";var n,i,o,r,a,s,l=[];function u(e){var t,i=qq.indexOf(l,e),r=n.maxConnections;i>=0&&(l.splice(i,1),l.length>=r&&i<r&&(t=l[r-1],o.upload(t)))}function c(e){i("Cancelling "+e),n.paramsStore.remove(e),u(e)}return n={debug:!1,forceMultipart:!0,paramsInBody:!1,paramsStore:{},endpointStore:{},filenameParam:"qqfilename",cors:{expected:!1,sendCredentials:!1},maxConnections:3,uuidParam:"qquuid",totalFileSizeParam:"qqtotalfilesize",chunking:{enabled:!1,partSize:2e6,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},log:function(e,t){},onProgress:function(e,t,n,i){},onComplete:function(e,t,n,i){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onAutoRetry:function(e,t,n,i){},onResume:function(e,t,n){},onUuidChanged:function(e,t){}},qq.extend(n,e),i=n.log,r={add:function(e){return o.add(e)},upload:function(e){return l.push(e)<=n.maxConnections&&(o.upload(e),!0)},retry:function(e){return qq.indexOf(l,e)>=0?o.upload(e,!0):this.upload(e)},cancel:function(e){var t=o.cancel(e);qq.isPromise(t)?t.then((function(){c(e)})):!1!==t&&c(e)},cancelAll:function(){var e=this,t=[];qq.extend(t,l),qq.each(t,(function(t,n){e.cancel(n)})),l=[]},getName:function(e){return o.getName(e)},setName:function(e,t){o.setName(e,t)},getSize:function(e){if(o.getSize)return o.getSize(e)},getFile:function(e){if(o.getFile)return o.getFile(e)},getInput:function(e){if(o.getInput)return o.getInput(e)},reset:function(){i("Resetting upload handler"),r.cancelAll(),l=[],o.reset()},expunge:function(e){return o.expunge(e)},getUuid:function(e){return o.getUuid(e)},setUuid:function(e,t){return o.setUuid(e,t)},isValid:function(e){return o.isValid(e)},getResumableFilesData:function(){return o.getResumableFilesData?o.getResumableFilesData():[]},getThirdPartyFileId:function(e){if(o.getThirdPartyFileId&&r.isValid(e))return o.getThirdPartyFileId(e)}},a=t?qq[t]:qq,s=qq.supportedFeatures.ajaxUploading?"Xhr":"Form",o=new a["UploadHandler"+s](n,u,n.onUuidChanged,i),r},qq.UploadHandlerFormApi=function(e,t,n,i,o,r,a){"use strict";var s,l=qq.getUniqueId(),u=new qq.WindowReceiveMessage({log:a}),c={},d={},p={};function f(e){return e.split("_")[0]}return qq.extend(e,{getIframeName:function(e){return e+"_"+l},createIframe:function(t){var n,i,o=e.getIframeName(t);return n=o,(i=qq.toElement('<iframe src="javascript:false;" name="'+n+'" />')).setAttribute("id",n),i.style.display="none",document.body.appendChild(i),i},parseJsonResponse:function(e,t){var n;try{void 0!==(n=qq.parseJson(t)).newUuid&&s.setUuid(e,n.newUuid)}catch(i){a("Error when attempting to parse iframe upload response ("+i.message+")","error"),n={}}return n},initFormForUpload:function(e){var t=e.method,n=e.endpoint,i=e.params,o=e.paramsInBody,r=e.targetName,a=qq.toElement('<form method="'+t+'" enctype="multipart/form-data"></form>'),s=n;return o?qq.obj2Inputs(i,a):s=qq.obj2url(i,n),a.setAttribute("action",s),a.setAttribute("target",r),a.style.display="none",document.body.appendChild(a),a},attachLoadEvent:function(i,o){var r;n?function(n,i){var o=n.id,r=f(o),s=t[r].uuid;c[s]=i,d[r]=qq(n).attach("load",(function(){t[r].input&&(a("Received iframe load event for CORS upload request (iframe name "+o+")"),p[o]=setTimeout((function(){var e="No valid message received from loaded iframe for iframe name "+o;a(e,"error"),i({error:e})}),1e3))})),u.receiveMessage(o,(function(t){a("Received the following window message: '"+t+"'");var n,i=f(o),r=e.parseJsonResponse(i,t),s=r.uuid;s&&c[s]?(a("Handling response for iframe name "+o),clearTimeout(p[o]),delete p[o],e.detachLoadEvent(o),n=c[s],delete c[s],u.stopReceivingMessages(o),n(r)):s||a("'"+t+"' does not contain a UUID - ignoring.")}))}(i,o):d[i.id]=qq(i).attach("load",(function(){if(a("Received response for "+i.id),i.parentNode){try{if(i.contentDocument&&i.contentDocument.body&&"false"==i.contentDocument.body.innerHTML)return}catch(e){a("Error when attempting to access iframe during handling of upload response ("+e.message+")","error"),r={success:!1}}o(r)}}))},detachLoadEvent:function(e){void 0!==d[e]&&(d[e](),delete d[e])}}),s={add:function(e){var n=t.push({input:e})-1;return e.setAttribute("name",i),t[n].uuid=qq.getUniqueId(),e.parentNode&&qq(e).remove(),n},getName:function(e){return void 0!==t[e].newName?t[e].newName:s.isValid(e)?t[e].input.value.replace(/.*(\/|\\)/,""):void a(e+" is not a valid item ID.","error")},getInput:function(e){return t[e].input},setName:function(e,n){t[e].newName=n},isValid:function(e){return void 0!==t[e]&&void 0!==t[e].input},reset:function(){t.length=0},expunge:function(i){return function(i){delete d[i],delete t[i],n&&(clearTimeout(p[i]),delete p[i],u.stopReceivingMessages(i));var o=document.getElementById(e.getIframeName(i));o&&(o.setAttribute("src","java"+String.fromCharCode(115)+"cript:false;"),qq(o).remove())}(i)},getUuid:function(e){return t[e].uuid},cancel:function(e){var t=o(e,s.getName(e));return qq.isPromise(t)?t.then((function(){s.expunge(e)})):!1!==t&&(s.expunge(e),!0)},upload:function(e){},setUuid:function(e,n){a("Server requested UUID change from '"+t[e].uuid+"' to '"+n+"'"),t[e].uuid=n,r(e,n)}}},qq.UploadHandlerXhrApi=function(e,t,n,i,o,r,a){"use strict";var s;function l(e,t,n){return e.slice?e.slice(t,n):e.mozSlice?e.mozSlice(t,n):e.webkitSlice?e.webkitSlice(t,n):void 0}return qq.extend(e,{createXhr:function(e){var n=qq.createXhrInstance();return t[e].xhr=n,n},getTotalChunks:function(e){if(n){var t=s.getSize(e),i=n.partSize;return Math.ceil(t/i)}},getChunkData:function(t,i){var o=n.partSize,r=s.getSize(t),a=s.getFile(t),u=o*i,c=u+o>=r?r:u+o;return{part:i,start:u,end:c,count:e.getTotalChunks(t),blob:l(a,u,c),size:c-u}},getChunkDataForCallback:function(e){return{partIndex:e.part,startByte:e.start+1,endByte:e.end,totalParts:e.count}}}),s={add:function(e){var n,i=qq.getUniqueId();if(qq.isFile(e))n=t.push({file:e})-1;else{if(!qq.isBlob(e.blob))throw new Error("Passed obj in not a File or BlobData (in qq.UploadHandlerXhr)");n=t.push({blobData:e})-1}return t[n].uuid=i,n},getName:function(e){if(s.isValid(e)){var n=t[e].file,i=t[e].blobData,o=t[e].newName;return void 0!==o?o:n?null!==n.fileName&&void 0!==n.fileName?n.fileName:n.name:i.name}a(e+" is not a valid item ID.","error")},setName:function(e,n){t[e].newName=n},getSize:function(e){var n=t[e].file||t[e].blobData.blob;return qq.isFileOrInput(n)&&null!=n.fileSize?n.fileSize:n.size},getFile:function(e){if(t[e])return t[e].file||t[e].blobData.blob},isValid:function(e){return void 0!==t[e]},reset:function(){t.length=0},expunge:function(e){var n=t[e].xhr;n&&(n.onreadystatechange=null,n.abort()),delete t[e]},getUuid:function(e){return t[e].uuid},upload:function(e,t){return i(e,t)},cancel:function(e){var t=o(e,s.getName(e));return qq.isPromise(t)?t.then((function(){s.expunge(e)})):!1!==t&&(s.expunge(e),!0)},setUuid:function(e,n){a("Server requested UUID change from '"+t[e].uuid+"' to '"+n+"'"),t[e].uuid=n,r(e,n)}}},qq.WindowReceiveMessage=function(e){var t={};return qq.extend({log:function(e,t){}},e),{receiveMessage:function(e,n){window.postMessage?t[e]=qq(window).attach("message",(function(e){n(e.data)})):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(e){if(window.postMessage){var n=t[e];n&&n()}}}},qq.uiPublicApi={clearStoredFiles:function(){this._parent.prototype.clearStoredFiles.apply(this,arguments),this._templating.clearFiles()},addExtraDropzone:function(e){this._dnd&&this._dnd.setupExtraDropzone(e)},removeExtraDropzone:function(e){if(this._dnd)return this._dnd.removeDropzone(e)},getItemByFileId:function(e){return this._templating.getFileContainer(e)},reset:function(){this._parent.prototype.reset.apply(this,arguments),this._templating.reset(),!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton()}).getButtonId()),this._dnd&&(this._dnd.dispose(),this._dnd=this._setupDragAndDrop()),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0,this._setupClickAndEditEventHandlers()}},qq.uiPrivateApi={_getButton:function(e){var t=this._parent.prototype._getButton.apply(this,arguments);return t||e===this._defaultButtonId&&(t=this._templating.getButton()),t},_removeFileItem:function(e){this._templating.removeFile(e)},_setupClickAndEditEventHandlers:function(){this._deleteRetryOrCancelClickHandler=qq.DeleteRetryOrCancelClickHandler&&this._bindDeleteRetryOrCancelClickEvent(),this._focusinEventSupported=!qq.firefox(),this._isEditFilenameEnabled()&&(this._filenameClickHandler=this._bindFilenameClickEvent(),this._filenameInputFocusInHandler=this._bindFilenameInputFocusInEvent(),this._filenameInputFocusHandler=this._bindFilenameInputFocusEvent())},_setupDragAndDrop:function(){var e=this,t=this._options.dragAndDrop.extraDropzones,n=this._templating,i=n.getDropZone();return i&&t.push(i),new qq.DragAndDrop({dropZoneElements:t,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){n.showDropProcessing()},processingDroppedFilesComplete:function(t){n.hideDropProcessing(),t&&e.addFiles(t)},dropError:function(t,n){e._itemError(t,n)},dropLog:function(t,n){e.log(t,n)}}})},_bindDeleteRetryOrCancelClickEvent:function(){var e=this;return new qq.DeleteRetryOrCancelClickHandler({templating:this._templating,log:function(t,n){e.log(t,n)},onDeleteFile:function(t){e.deleteFile(t)},onCancel:function(t){e.cancel(t)},onRetry:function(t){qq(e._templating.getFileContainer(t)).removeClass(e._classes.retryable),e.retry(t)},onGetName:function(t){return e.getName(t)}})},_isEditFilenameEnabled:function(){return this._templating.isEditFilenamePossible()&&!this._options.autoUpload&&qq.FilenameClickHandler&&qq.FilenameInputFocusHandler&&qq.FilenameInputFocusHandler},_filenameEditHandler:function(){var e=this,t=this._templating;return{templating:t,log:function(t,n){e.log(t,n)},onGetUploadStatus:function(t){return e.getUploads({id:t}).status},onGetName:function(t){return e.getName(t)},onSetName:function(n,i){var o=e._options.formatFileName(i);t.updateFilename(n,o),e.setName(n,i)},onEditingStatusChange:function(e,n){var i=qq(t.getEditInput(e)),o=qq(t.getFileContainer(e));n?(i.addClass("qq-editing"),t.hideFilename(e),t.hideEditIcon(e)):(i.removeClass("qq-editing"),t.showFilename(e),t.showEditIcon(e)),o.addClass("qq-temp").removeClass("qq-temp")}}},_onUploadStatusChange:function(e,t,n){this._isEditFilenameEnabled()&&this._templating.getFileContainer(e)&&n!==qq.status.SUBMITTED&&(this._templating.markFilenameEditable(e),this._templating.hideEditIcon(e))},_bindFilenameInputFocusInEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusInHandler(e)},_bindFilenameInputFocusEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusHandler(e)},_bindFilenameClickEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameClickHandler(e)},_storeForLater:function(e){this._parent.prototype._storeForLater.apply(this,arguments),this._templating.hideSpinner(e)},_onSubmit:function(e,t){this._parent.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onSubmitted:function(e){this._isEditFilenameEnabled()&&(this._templating.markFilenameEditable(e),this._templating.showEditIcon(e),this._focusinEventSupported||this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(e)))},_onProgress:function(e,t,n,i){this._parent.prototype._onProgress.apply(this,arguments),this._templating.updateProgress(e,n,i),n===i?(this._templating.hideCancel(e),this._templating.setStatusText(e,this._options.text.waitingForResponse),this._displayFileSize(e)):this._displayFileSize(e,n,i)},_onComplete:function(e,t,n,i){var o=this._parent.prototype._onComplete.apply(this,arguments),r=this._templating,a=this;function s(t){r.setStatusText(e),qq(r.getFileContainer(e)).removeClass(a._classes.retrying),r.hideProgress(e),a._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading||r.hideCancel(e),r.hideSpinner(e),t.success?(a._isDeletePossible()&&r.showDelete(e),qq(r.getFileContainer(e)).addClass(a._classes.success),a._maybeUpdateThumbnail(e)):(qq(r.getFileContainer(e)).addClass(a._classes.fail),a._templating.isRetryPossible()&&!a._preventRetries[e]&&qq(r.getFileContainer(e)).addClass(a._classes.retryable),a._controlFailureTextDisplay(e,t))}return qq.isPromise(o)?o.done((function(e){s(e)})):s(n),o},_onUpload:function(e,t){var n=this._parent.prototype._onUpload.apply(this,arguments);return this._templating.showSpinner(e),n},_onCancel:function(e,t){this._parent.prototype._onCancel.apply(this,arguments),this._removeFileItem(e)},_onBeforeAutoRetry:function(e){var t,n,i;this._parent.prototype._onBeforeAutoRetry.apply(this,arguments),this._showCancelLink(e),this._templating.hideProgress(e),this._options.retry.showAutoRetryNote&&(t=this._autoRetries[e]+1,n=this._options.retry.maxAutoAttempts,i=(i=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,t)).replace(/\{maxAuto\}/g,n),this._templating.setStatusText(e,i),qq(this._templating.getFileContainer(e)).addClass(this._classes.retrying))},_onBeforeManualRetry:function(e){return this._parent.prototype._onBeforeManualRetry.apply(this,arguments)?(this._templating.resetProgress(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.fail),this._templating.setStatusText(e),this._templating.showSpinner(e),this._showCancelLink(e),!0):(qq(this._templating.getFileContainer(e)).addClass(this._classes.retryable),!1)},_onSubmitDelete:function(e){var t=qq.bind(this._onSubmitDeleteSuccess,this);this._parent.prototype._onSubmitDelete.call(this,e,t)},_onSubmitDeleteSuccess:function(e,t,n){this._options.deleteFile.forceConfirm?this._showDeleteConfirm.apply(this,arguments):this._sendDeleteRequest.apply(this,arguments)},_onDeleteComplete:function(e,t,n){this._parent.prototype._onDeleteComplete.apply(this,arguments),this._templating.hideSpinner(e),n?(this._templating.setStatusText(e,this._options.deleteFile.deletingFailedText),this._templating.showDelete(e)):this._removeFileItem(e)},_sendDeleteRequest:function(e,t,n){this._templating.hideDelete(e),this._templating.showSpinner(e),this._templating.setStatusText(e,this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete.apply(this,arguments)},_showDeleteConfirm:function(e,t,n){var i,o=this._handler.getName(e),r=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,o),a=(t=this.getUuid(e),arguments),s=this;i=this._options.showConfirm(r),qq.isPromise(i)?i.then((function(){s._sendDeleteRequest.apply(s,a)})):!1!==i&&s._sendDeleteRequest.apply(s,a)},_addToList:function(e,t){var n,i=0;this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading&&this._templating.disableCancel(),this._options.display.prependFiles&&(this._totalFilesInBatch>1&&this._filesInBatchAddedToUi>0&&(i=this._filesInBatchAddedToUi-1),n={index:i}),this._options.multiple||(this._handler.cancelAll(),this._clearList()),this._templating.addFile(e,this._options.formatFileName(t),n),this._templating.generatePreview(e,this.getFile(e)),this._filesInBatchAddedToUi+=1,this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading&&this._displayFileSize(e)},_clearList:function(){this._templating.clearFiles(),this.clearStoredFiles()},_displayFileSize:function(e,t,n){var i=this.getSize(e),o=this._formatSize(i);void 0!==t&&void 0!==n&&(o=this._formatProgress(t,n)),this._templating.updateSize(e,o)},_formatProgress:function(e,t){var n=this._options.text.formatProgress;function i(e,t){n=n.replace(e,t)}return i("{percent}",Math.round(e/t*100)),i("{total_size}",this._formatSize(t)),n},_controlFailureTextDisplay:function(e,t){var n,i,o,r,a;n=this._options.failedUploadTextDisplay.mode,i=this._options.failedUploadTextDisplay.maxChars,o=this._options.failedUploadTextDisplay.responseProperty,"custom"===n?((r=t[o])?r.length>i&&(a=r.substring(0,i)+"..."):(r=this._options.text.failUpload,this.log("'"+o+"' is not a valid property on the server response.","warn")),this._templating.setStatusText(e,a||r),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(e,r)):"default"===n?this._templating.setStatusText(e,this._options.text.failUpload):"none"!==n&&this.log("failedUploadTextDisplay.mode value of '"+n+"' is not valid","warn")},_showTooltip:function(e,t){this._templating.getFileContainer(e).title=t},_showCancelLink:function(e){this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading||this._templating.showCancel(e)},_itemError:function(e,t,n){var i=this._parent.prototype._itemError.apply(this,arguments);this._options.showMessage(i)},_batchError:function(e){this._parent.prototype._batchError.apply(this,arguments),this._options.showMessage(e)},_setupPastePrompt:function(){var e=this;this._options.callbacks.onPasteReceived=function(){var t=e._options.paste.namePromptMessage,n=e._options.paste.defaultName;return e._options.showPrompt(t,n)}},_fileOrBlobRejected:function(e,t){this._totalFilesInBatch-=1,this._parent.prototype._fileOrBlobRejected.apply(this,arguments)},_prepareItemsForUpload:function(e,t,n){this._totalFilesInBatch=e.length,this._filesInBatchAddedToUi=0,this._parent.prototype._prepareItemsForUpload.apply(this,arguments)},_maybeUpdateThumbnail:function(e){var t=this._thumbnailUrls[e];this._templating.updateThumbnail(e,t)}},qq.FineUploader=function(e,t){this._parent=t?qq[t].FineUploaderBasic:qq.FineUploaderBasic,this._parent.apply(this,arguments),qq.extend(this._options,{element:null,button:null,listElement:null,dragAndDrop:{extraDropzones:[]},text:{formatProgress:"{percent}% of {total_size}",failUpload:"Upload failed",waitingForResponse:"Uploading..."},template:"qq-template",classes:{retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",success:"qq-upload-success",fail:"qq-upload-fail",editable:"qq-editable",hide:"qq-hide",dropActive:"qq-upload-drop-area-active"},failedUploadTextDisplay:{mode:"default",maxChars:50,responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}..."},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1,prependFiles:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},thumbnails:{placeholders:{waitUntilResponse:!1,notAvailablePath:null,waitingPath:null}},showMessage:function(e){setTimeout((function(){window.alert(e)}),0)},showConfirm:function(e){return window.confirm(e)},showPrompt:function(e,t){return window.prompt(e,t)}},!0),qq.extend(this._options,e,!0),this._templating=new qq.Templating({log:qq.bind(this.log,this),templateIdOrEl:this._options.template,containerEl:this._options.element,fileContainerEl:this._options.listElement,button:this._options.button,imageGenerator:this._imageGenerator,classes:{hide:this._options.classes.hide,editable:this._options.classes.editable},placeholders:{waitUntilUpdate:this._options.thumbnails.placeholders.waitUntilResponse,thumbnailNotAvailable:this._options.thumbnails.placeholders.notAvailablePath,waitingForThumbnail:this._options.thumbnails.placeholders.waitingPath}}),!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._templating.renderFailure(this._options.messages.unsupportedBrowser):(this._wrapCallbacks(),this._templating.render(),this._classes=this._options.classes,!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton()}).getButtonId()),this._setupClickAndEditEventHandlers(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop&&(this._dnd=this._setupDragAndDrop()),this._options.paste.targetElement&&this._options.paste.promptForName&&(qq.PasteSupport?this._setupPastePrompt():qq.log("Paste support module not found.","info")),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0)},qq.extend(qq.FineUploader.prototype,qq.basePublicApi),qq.extend(qq.FineUploader.prototype,qq.basePrivateApi),qq.extend(qq.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.FineUploader.prototype,qq.uiPrivateApi),qq.Templating=function(e){"use strict";var t,n,i,o,r,a,s,l,u,c,d,p="qq-file-id",f="qq-file-id-",h="qq-preview-generated",m=!1,g=-1,v={log:null,templateIdOrEl:"qq-template",containerEl:null,fileContainerEl:null,button:null,imageGenerator:null,classes:{hide:"qq-hide",editable:"qq-editable"},placeholders:{waitUntilUpdate:!1,thumbnailNotAvailable:null,waitingForThumbnail:null}},q={button:"qq-upload-button-selector",drop:"qq-upload-drop-area-selector",list:"qq-upload-list-selector",progressBarContainer:"qq-progress-bar-container-selector",progressBar:"qq-progress-bar-selector",file:"qq-upload-file-selector",spinner:"qq-upload-spinner-selector",size:"qq-upload-size-selector",cancel:"qq-upload-cancel-selector",deleteButton:"qq-upload-delete-selector",retry:"qq-upload-retry-selector",statusText:"qq-upload-status-text-selector",editFilenameInput:"qq-edit-filename-selector",editNameIcon:"qq-edit-filename-icon-selector",dropProcessing:"qq-drop-processing-selector",dropProcessingSpinner:"qq-drop-processing-spinner-selector",thumbnail:"qq-thumbnail-selector"};function y(e){return qq(s).getByClass(f+e)[0]}function b(e,t){return qq(e).getByClass(t)[0]}function _(e){return b(y(e),q.cancel)}function w(e){return b(y(e),q.progressBarContainer)||b(y(e),q.progressBar)}function C(e){return b(y(e),q.spinner)}function x(e){return b(y(e),q.editNameIcon)}function E(e){return b(y(e),q.size)}function S(e){return b(y(e),q.deleteButton)}function I(e){return b(y(e),q.file)}function F(){return b(a,q.dropProcessing)}function k(e){return l&&b(y(e),q.thumbnail)}function D(e){e&&qq(e).addClass(v.classes.hide)}function T(e){e&&qq(e).removeClass(v.classes.hide)}function A(e,t){var n=w(e);n&&!qq(n).hasClass(q.progressBar)&&(n=qq(n).getByClass(q.progressBar)[0]),n&&qq(n).css({width:t+"%"})}function U(e){d?(P(d,e),e.src=d.src,T(e)):D(e)}function R(e){c&&!function(e){return qq(e).hasAttribute(h)}(e)&&(P(c,e),e.src=c.src,T(e))}function P(e,t){var n=e.style.maxWidth,i=e.style.maxHeight;i&&n&&!t.style.maxWidth&&!t.style.maxHeight&&qq(t).css({maxWidth:n,maxHeight:i})}return qq.extend(v,e),t=v.log,a=v.containerEl,l=void 0!==v.imageGenerator,r=function(){var e,n,r,a,s,c,d,p,f;if(t("Parsing template"),null==v.templateIdOrEl)throw new Error("You MUST specify either a template element or ID!");if(qq.isString(v.templateIdOrEl)){if(null===(e=document.getElementById(v.templateIdOrEl)))throw new Error(qq.format("Cannot find template script at ID '{}'!",v.templateIdOrEl));n=e.innerHTML}else{if(void 0===v.templateIdOrEl.innerHTML)throw new Error("You have specified an invalid value for the template option!  It must be an ID or an Element.");n=v.templateIdOrEl.innerHTML}if(n=qq.trimStr(n),(a=document.createElement("div")).appendChild(qq.toElement(n)),v.button&&(c=qq(a).getByClass(q.button)[0])&&qq(c).remove(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop||(f=qq(a).getByClass(q.dropProcessing)[0])&&qq(f).remove(),(d=qq(a).getByClass(q.drop)[0])&&!qq.DragAndDrop&&(qq.log("DnD module unavailable.","info"),qq(d).remove()),d&&!qq.supportedFeatures.fileDrop&&qq(d).hasAttribute("qq-hide-dropzone")&&qq(d).css({display:"none"}),p=qq(a).getByClass(q.thumbnail)[0],l?p&&(g=(g=parseInt(p.getAttribute("qq-max-size")))>0?g:null,u=qq(p).hasAttribute("qq-server-scale")):p&&qq(p).remove(),l=l&&p,i=qq(a).getByClass(q.editFilenameInput).length>0,o=qq(a).getByClass(q.retry).length>0,null==(r=qq(a).getByClass(q.list)[0]))throw new Error("Could not find the file list container in the template!");return s=r.innerHTML,r.innerHTML="",t("Template parsing complete"),{template:qq.trimStr(a.innerHTML),fileTemplate:qq.trimStr(s)}}(),function(){var e=v.placeholders.thumbnailNotAvailable,n=v.placeholders.waitingForThumbnail,i={maxSize:g,scale:u};l&&(e&&v.imageGenerator.generate(e,new Image,i).then((function(e){c=e}),(function(){t("Problem loading 'not available' placeholder image at "+e,"error")})),n&&v.imageGenerator.generate(n,new Image,i).then((function(e){d=e}),(function(){t("Problem loading 'waiting for thumbnail' placeholder image at "+n,"error")})))}(),n={render:function(){t("Rendering template in DOM."),a.innerHTML=r.template,D(F()),s=v.fileContainerEl||b(a,q.list),t("Template rendering complete")},renderFailure:function(e){var t=qq.toElement(e);a.innerHTML="",a.appendChild(t)},reset:function(){n.render()},clearFiles:function(){s.innerHTML=""},disableCancel:function(){m=!0},addFile:function(e,t,i){var o,a,l,u,c=qq.toElement(r.fileTemplate),d=b(c,q.file);qq(c).addClass(f+e),d&&qq(d).setText(t),c.setAttribute(p,e),i?(o=c,a=i.index,u=(l=s).firstChild,a>0&&(u=qq(l).children()[a].nextSibling),l.insertBefore(o,u)):s.appendChild(c),D(w(e)),D(E(e)),D(S(e)),D(function(e){return b(y(e),q.retry)}(e)),m&&n.hideCancel(e)},removeFile:function(e){qq(y(e)).remove()},getFileId:function(e){for(var t=e;null==t.getAttribute(p);)t=t.parentNode;return parseInt(t.getAttribute(p))},getFileList:function(){return s},markFilenameEditable:function(e){var t=I(e);t&&qq(t).addClass(v.classes.editable)},updateFilename:function(e,t){var n=I(e);n&&qq(n).setText(t)},hideFilename:function(e){D(I(e))},showFilename:function(e){T(I(e))},isFileName:function(e){return qq(e).hasClass(q.file)},getButton:function(){return v.button||b(a,q.button)},hideDropProcessing:function(){D(F())},showDropProcessing:function(){T(F())},getDropZone:function(){return b(a,q.drop)},isEditFilenamePossible:function(){return i},isRetryPossible:function(){return o},getFileContainer:function(e){return y(e)},showEditIcon:function(e){var t=x(e);t&&qq(t).addClass(v.classes.editable)},hideEditIcon:function(e){var t=x(e);t&&qq(t).removeClass(v.classes.editable)},isEditIcon:function(e){return qq(e).hasClass(q.editNameIcon)},getEditInput:function(e){return b(y(e),q.editFilenameInput)},isEditInput:function(e){return qq(e).hasClass(q.editFilenameInput)},updateProgress:function(e,t,n){var i,o=w(e);o&&(i=Math.round(t/n*100),t===n?D(o):T(o),A(e,i))},hideProgress:function(e){var t=w(e);t&&D(t)},resetProgress:function(e){A(e,0)},showCancel:function(e){if(!m){var t=_(e);t&&qq(t).removeClass(v.classes.hide)}},hideCancel:function(e){D(_(e))},isCancel:function(e){return qq(e).hasClass(q.cancel)},showDelete:function(e){T(S(e))},hideDelete:function(e){D(S(e))},isDelete:function(e){return qq(e).hasClass(q.deleteButton)},isRetry:function(e){return qq(e).hasClass(q.retry)},updateSize:function(e,t){var n=E(e);n&&(T(n),qq(n).setText(t))},setStatusText:function(e,t){var n=b(y(e),q.statusText);n&&(null==t?qq(n).clearText():qq(n).setText(t))},hideSpinner:function(e){D(C(e))},showSpinner:function(e){T(C(e))},generatePreview:function(e,t){var n=k(e),i={maxSize:g,scale:!0,orient:!0};if(qq.supportedFeatures.imagePreviews){if(n)return U(n),v.imageGenerator.generate(t,n,i).then((function(){n.setAttribute(h,"true"),T(n)}),(function(){v.placeholders.waitUntilUpdate||R(n)}))}else n&&U(n)},updateThumbnail:function(e,t){var n=k(e),i={maxSize:g,scale:u};if(n){if(t)return v.imageGenerator.generate(t,n,i).then((function(){T(n)}),(function(){R(n)}));R(n)}}},n},qq.UploadHandlerForm=function(e,t,n,i){"use strict";var o,r=[],a=t,s=i,l={};return o=new qq.UploadHandlerFormApi(l,r,e.cors.expected,e.inputName,e.onCancel,n,s),qq.extend(o,{upload:function(t){var n,i=r[t].input,u=o.getName(t),c=l.createIframe(t);if(!i)throw new Error("file with passed id was not added, or already uploaded or cancelled");e.onUpload(t,o.getName(t)),n=function(t,n){var i=e.paramsStore.getParams(t),a=e.demoMode?"GET":"POST",s=e.endpointStore.getEndpoint(t),u=r[t].newName||o.getName(t);return i[e.uuidParam]=r[t].uuid,i[e.filenameParam]=u,l.initFormForUpload({method:a,endpoint:s,params:i,paramsInBody:e.paramsInBody,targetName:n.name})}(t,c),n.appendChild(i),l.attachLoadEvent(c,(function(n){s("iframe loaded");var i=n||function(e,t){var n;try{var i=t.contentDocument||t.contentWindow.document,o=i.body.innerHTML;s("converting iframe's innerHTML to JSON"),s("innerHTML = "+o),o&&o.match(/^<pre/i)&&(o=i.body.firstChild.firstChild.nodeValue),n=l.parseJsonResponse(e,o)}catch(r){s("Error when attempting to parse form upload response ("+r.message+")","error"),n={success:!1}}return n}(t,c);l.detachLoadEvent(t),e.cors.expected||qq(c).remove(),!i.success&&e.onAutoRetry(t,u,i)||(e.onComplete(t,u,i),a(t))})),s("Sending upload request for "+t),n.submit(),qq(n).remove()}})},qq.UploadHandlerXhr=function(e,t,n,i){"use strict";var o,r=t,a=i,s=[],l="|",u=e.chunking.enabled&&qq.supportedFeatures.chunking,c=e.resume.enabled&&u&&qq.supportedFeatures.resume,d=function(){if(null!==e.resume.id&&void 0!==e.resume.id&&!qq.isFunction(e.resume.id)&&!qq.isObject(e.resume.id))return e.resume.id}(),p=e.forceMultipart||e.paramsInBody,f={};function h(t,n,i,r){var a=new FormData,l=e.demoMode?"GET":"POST",u=e.endpointStore.getEndpoint(r),c=u,d=s[r].newName||o.getName(r),f=o.getSize(r);return t[e.uuidParam]=s[r].uuid,t[e.filenameParam]=d,p&&(t[e.totalFileSizeParam]=f),e.paramsInBody||(p||(t[e.inputName]=d),c=qq.obj2url(t,u)),n.open(l,c,!0),e.cors.expected&&e.cors.sendCredentials&&(n.withCredentials=!0),p?(e.paramsInBody&&qq.obj2FormData(t,a),a.append(e.inputName,i),a):i}function m(t,n){var i=e.customHeaders,o=s[t].file||s[t].blobData.blob;n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Cache-Control","no-cache"),p||(n.setRequestHeader("Content-Type","application/octet-stream"),n.setRequestHeader("X-Mime-Type",o.type)),qq.each(i,(function(e,t){n.setRequestHeader(e,t)}))}function g(t,n,i){var a=o.getName(t),l=o.getSize(t);s[t].attemptingResume=!1,e.onProgress(t,a,l,l),e.onComplete(t,a,n,i),s[t]&&delete s[t].xhr,r(t)}function v(t){var n,i,r=s[t].remainingChunkIdxs[0],u=f.getChunkData(t,r),d=f.createXhr(t),g=o.getSize(t),v=o.getName(t);void 0===s[t].loaded&&(s[t].loaded=0),c&&s[t].file&&function(t,n){var i=o.getUuid(t),r=s[t].loaded,a=s[t].initialRequestOverhead,u=s[t].estTotalRequestsSize,c=x(t),d=i+l+n.part+l+r+l+a+l+u,p=e.resume.cookiesExpireIn;qq.setCookie(c,d,p)}(t,u),d.onreadystatechange=_(t,d),d.upload.onprogress=function(n){if(n.lengthComputable){var i=n.loaded+s[t].loaded,a=function(e,t,n){var i=f.getChunkData(e,t),r=i.size,a=n-r,l=o.getSize(e),u=i.count,c=s[e].initialRequestOverhead,d=a-c;s[e].lastRequestOverhead=a,0===t?(s[e].lastChunkIdxProgress=0,s[e].initialRequestOverhead=a,s[e].estTotalRequestsSize=l+u*a):s[e].lastChunkIdxProgress!==t&&(s[e].lastChunkIdxProgress=t,s[e].estTotalRequestsSize+=d);return s[e].estTotalRequestsSize}(t,r,n.total);e.onProgress(t,v,i,a)}},e.onUploadChunk(t,v,f.getChunkDataForCallback(u)),i=e.paramsStore.getParams(t),function(t,n,i){var r=o.getSize(t),a=o.getName(t);n[e.chunking.paramNames.partIndex]=i.part,n[e.chunking.paramNames.partByteOffset]=i.start,n[e.chunking.paramNames.chunkSize]=i.size,n[e.chunking.paramNames.totalParts]=i.count,n[e.totalFileSizeParam]=r,p&&(n[e.filenameParam]=a)}(t,i,u),s[t].attemptingResume&&function(t){t[e.resume.paramNames.resuming]=!0}(i),n=h(i,d,u.blob,t),m(t,d),a("Sending chunked upload request for item "+t+": bytes "+(u.start+1)+"-"+u.end+" of "+g),d.send(n)}function q(e,t,n){var i=s[e].remainingChunkIdxs.shift(),o=f.getChunkData(e,i);s[e].attemptingResume=!1,s[e].loaded+=o.size+function(e){return p?s[e].lastRequestOverhead:0}(e),s[e].remainingChunkIdxs.length>0?v(e):(c&&w(e),g(e,t,n))}function y(e){a("Server has ordered chunking effort to be restarted on next attempt for item ID "+e,"error"),c&&(w(e),s[e].attemptingResume=!1),s[e].remainingChunkIdxs=[],delete s[e].loaded,delete s[e].estTotalRequestsSize,delete s[e].initialRequestOverhead}function b(t,n){var i;s[t]&&(a("xhr - server response received for "+t),a("responseText = "+n.responseText),i=function(e,t){var n;try{a(qq.format("Received response status {} with body: {}",t.status,t.responseText)),void 0!==(n=qq.parseJson(t.responseText)).newUuid&&o.setUuid(e,n.newUuid)}catch(i){a("Error when attempting to parse xhr response text ("+i.message+")","error"),n={}}return n}(t,n),function(e,t){return 200!==e.status||!t.success||t.reset}(n,i)?(i.reset&&y(t),s[t].attemptingResume&&i.reset?function(e){s[e].attemptingResume=!1,a("Server has declared that it cannot handle resume for item ID "+e+" - starting from the first chunk","error"),y(e),o.upload(e,!0)}(t):function(t,n,i){var r=o.getName(t);e.onAutoRetry(t,r,n,i)||g(t,n,i)}(t,i,n)):u?q(t,i,n):g(t,i,n))}function _(e,t){return function(){4===t.readyState&&b(e,t)}}function w(e){if(s[e].file){var t=x(e);qq.deleteCookie(t)}}function C(e){var t,n=qq.getCookie(x(e)),i=o.getName(e);if(n){if(5===(t=n.split(l)).length)return{uuid:t[0],part:parseInt(t[1],10),lastByteSent:parseInt(t[2],10),initialRequestOverhead:parseInt(t[3],10),estTotalRequestsSize:parseInt(t[4],10)};a("Ignoring previously stored resume/chunk cookie for "+i+" - old cookie format","warn")}}function x(t){var n,i=o.getName(t),r=o.getSize(t),a=e.chunking.partSize;return n="qqfilechunk"+l+encodeURIComponent(i)+l+r+l+a,void 0!==d&&(n+=l+d),n}function E(e,t){var n;for(n=f.getTotalChunks(e)-1;n>=t;n-=1)s[e].remainingChunkIdxs.unshift(n);v(e)}function S(e,t,n,i){n=i.part,s[e].loaded=i.lastByteSent,s[e].estTotalRequestsSize=i.estTotalRequestsSize,s[e].initialRequestOverhead=i.initialRequestOverhead,s[e].attemptingResume=!0,a("Resuming "+t+" at partition index "+n),E(e,n)}function I(t,n){var i;s[t].remainingChunkIdxs&&0!==s[t].remainingChunkIdxs.length?v(t):(s[t].remainingChunkIdxs=[],c&&!n&&s[t].file&&(i=C(t))?function(t,n,i){var r,s=o.getName(t),l=f.getChunkData(t,n.part);r=e.onResume(t,s,f.getChunkDataForCallback(l)),qq.isPromise(r)?(a("Waiting for onResume promise to be fulfilled for "+t),r.then((function(){S(t,s,i,n)}),(function(){a("onResume promise fulfilled - failure indicated.  Will not resume."),E(t,i)}))):!1!==r?S(t,s,i,n):(a("onResume callback returned false.  Will not resume."),E(t,i))}(t,i,0):E(t,0))}return o=new qq.UploadHandlerXhrApi(f,s,u?e.chunking:null,(function(t,n){var i=o.getName(t);o.isValid(t)&&(e.onUpload(t,i),u?I(t,n):function(t){var n,i,r=s[t].file||s[t].blobData.blob,l=o.getName(t);s[t].loaded=0,(n=f.createXhr(t)).upload.onprogress=function(n){n.lengthComputable&&(s[t].loaded=n.loaded,e.onProgress(t,l,n.loaded,n.total))},n.onreadystatechange=_(t,n),i=h(e.paramsStore.getParams(t),n,r,t),m(t,n),a("Sending upload request for "+t),n.send(i)}(t))}),e.onCancel,n,a),qq.override(o,(function(t){return{add:function(e){var n,i=t.add(e);return c&&(n=C(i))&&(s[i].uuid=n.uuid),i},getResumableFilesData:function(){var t=[],n=[];return u&&c?(t=void 0===d?qq.getCookieNames(new RegExp("^qqfilechunk\\"+l+".+\\"+l+"\\d+\\"+l+e.chunking.partSize+"=")):qq.getCookieNames(new RegExp("^qqfilechunk\\"+l+".+\\"+l+"\\d+\\"+l+e.chunking.partSize+"\\"+l+d+"=")),qq.each(t,(function(e,t){var i=t.split(l),o=qq.getCookie(t).split(l);n.push({name:decodeURIComponent(i[1]),size:i[2],uuid:o[0],partIdx:o[1]})})),n):[]},expunge:function(e){c&&w(e),t.expunge(e)}}})),o},qq.PasteSupport=function(e){"use strict";var t;return t={targetElement:null,callbacks:{log:function(e,t){},pasteReceived:function(e){}}},qq.extend(t,e),qq(t.targetElement).attach("paste",(function(e){var n=e.clipboardData;n&&qq.each(n.items,(function(e,n){if(function(e){return e.type&&0===e.type.indexOf("image/")}(n)){var i=n.getAsFile();t.callbacks.pasteReceived(i)}}))})),{reset:function(){}}},qq.DragAndDrop=function(e){"use strict";var t,n,i="qq-hide-dropzone",o=[],r=[],a=new qq.DisposeSupport;function s(e){var n=new qq.Promise;return e.isFile?e.file((function(e){r.push(e),n.success()}),(function(i){t.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+i.code+".","error"),n.failure()})):e.isDirectory&&e.createReader().readEntries((function(e){var t=e.length;qq.each(e,(function(e,i){s(i).done((function(){0===(t-=1)&&n.success()}))})),e.length||n.success()}),(function(i){t.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+i.code+".","error"),n.failure()})),n}function l(e,n){var i=[],o=new qq.Promise;return t.callbacks.processingDroppedFiles(),n.dropDisabled(!0),e.files.length>1&&!t.allowMultipleItems?(t.callbacks.processingDroppedFilesComplete([]),t.callbacks.dropError("tooManyFilesError",""),n.dropDisabled(!1),o.failure()):(r=[],qq.isFolderDropSupported(e)?qq.each(e.items,(function(e,t){var n=t.webkitGetAsEntry();n&&(n.isFile?r.push(t.getAsFile()):i.push(s(n).done((function(){i.pop(),0===i.length&&o.success()}))))})):r=e.files,0===i.length&&o.success()),o}function u(e){var n=new qq.UploadDropZone({element:e,onEnter:function(n){qq(e).addClass(t.classes.dropActive),n.stopPropagation()},onLeaveNotDescendants:function(n){qq(e).removeClass(t.classes.dropActive)},onDrop:function(o){qq(e).hasAttribute(i)&&qq(e).hide(),qq(e).removeClass(t.classes.dropActive),l(o.dataTransfer,n).done((function(){var e,i;e=r,i=n,t.callbacks.dropLog("Grabbed "+e.length+" dropped files."),i.dropDisabled(!1),t.callbacks.processingDroppedFilesComplete(e)}))}});return a.addDisposer((function(){n.dispose()})),qq(e).hasAttribute(i)&&qq(e).hide(),o.push(n),n}return t={dropZoneElements:[],allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(t,e,!0),n=t.dropZoneElements,qq.each(n,(function(e,t){var i=u(t);!n.length||qq.ie()&&!qq.ie10()||a.attach(document,"dragenter",(function(e){var t,o;!i.dropDisabled()&&(t=e,qq.each(t.dataTransfer.types,(function(e,t){if("Files"===t)return o=!0,!1})),o)&&qq.each(n,(function(e,t){qq(t).css({display:"block"})}))}))})),a.attach(document,"dragleave",(function(e){(function(e){return(qq.chrome()||qq.safari()&&qq.windows())&&0==e.clientX&&0==e.clientY||qq.firefox()&&!e.relatedTarget})(e)&&qq.each(n,(function(e,t){qq(t).hasAttribute(i)&&qq(t).hide()}))})),a.attach(document,"drop",(function(e){qq.each(n,(function(e,t){qq(t).hasAttribute(i)&&qq(t).hide()})),e.preventDefault()})),{setupExtraDropzone:function(e){t.dropZoneElements.push(e),u(e)},removeDropzone:function(e){var n,i=t.dropZoneElements;for(n in i)if(i[n]===e)return i.splice(n,1)},dispose:function(){a.dispose(),qq.each(o,(function(e,t){t.dispose()}))}}},qq.DragAndDrop.callbacks=function(){return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(e){},dropError:function(e,t){qq.log("Drag & drop error code '"+e+" with these specifics: '"+t+"'","error")},dropLog:function(e,t){qq.log(e,t)}}},qq.UploadDropZone=function(e){"use strict";var t,n,i,o,r=new qq.DisposeSupport;function a(){return qq.safari()||qq.firefox()&&qq.windows()}function s(e){if(qq.ie()&&!qq.ie10())return!1;var t,n=e.dataTransfer,i=qq.safari();return t=!!qq.ie10()||"none"!==n.effectAllowed,n&&t&&(n.files||!i&&n.types.contains&&n.types.contains("Files"))}function l(e){return void 0!==e&&(i=e),i}return t={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}},qq.extend(t,e),n=t.element,o||(a?r.attach(document,"dragover",(function(e){e.preventDefault()})):r.attach(document,"dragover",(function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())})),o=!0),r.attach(n,"dragover",(function(e){if(s(e)){var t=qq.ie()?null:e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",e.stopPropagation(),e.preventDefault()}})),r.attach(n,"dragenter",(function(e){if(!l()){if(!s(e))return;t.onEnter(e)}})),r.attach(n,"dragleave",(function(e){if(s(e)){t.onLeave(e);var n=document.elementFromPoint(e.clientX,e.clientY);qq(this).contains(n)||t.onLeaveNotDescendants(e)}})),r.attach(n,"drop",(function(e){if(!l()){if(!s(e))return;e.preventDefault(),t.onDrop(e)}})),{dropDisabled:function(e){return l(e)},dispose:function(){r.dispose()}}},qq.DeleteFileAjaxRequestor=function(e){"use strict";var t,n={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:{},paramsStore:{},demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onDelete:function(e){},onDeleteComplete:function(e,t,n){}};return qq.extend(n,e),t=new qq.AjaxRequestor({validMethods:["POST","DELETE"],method:n.method,endpointStore:n.endpointStore,paramsStore:n.paramsStore,mandatedParams:"POST"===n.method.toUpperCase()?{_method:"DELETE"}:{},maxConnections:n.maxConnections,customHeaders:n.customHeaders,demoMode:n.demoMode,log:n.log,onSend:n.onDelete,onComplete:n.onDeleteComplete,cors:n.cors}),{sendDelete:function(e,i,o){var r=o||{};n.log("Submitting delete file request for "+e),"DELETE"===t.getMethod()?t.send(e,i,r):(r[n.uuidParamName]=i,t.send(e,null,r))}}},function(){function e(e,t,n,i){var o=e.naturalWidth,r=e.naturalHeight,a=n.width,s=n.height,l=t.getContext("2d");if(l.save(),function(e,t,n,i){switch(i){case 5:case 6:case 7:case 8:e.width=n,e.height=t;break;default:e.width=t,e.height=n}var o=e.getContext("2d");switch(i){case 2:o.translate(t,0),o.scale(-1,1);break;case 3:o.translate(t,n),o.rotate(Math.PI);break;case 4:o.translate(0,n),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-n);break;case 7:o.rotate(.5*Math.PI),o.translate(t,-n),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-t,0)}}(t,a,s,n.orientation),qq.ios()){var u=function(e){var t=e.naturalWidth;if(t*e.naturalHeight>1048576){var n=document.createElement("canvas");n.width=n.height=1;var i=n.getContext("2d");return i.drawImage(e,1-t,0),0===i.getImageData(0,0,1,1).data[3]}return!1}(e);u&&(o/=2,r/=2);var c=1024,d=document.createElement("canvas");d.width=d.height=c;for(var p=d.getContext("2d"),f=i?function(e,t,n){var i=document.createElement("canvas");i.width=1,i.height=n;var o=i.getContext("2d");o.drawImage(e,0,0);for(var r=o.getImageData(0,0,1,n).data,a=0,s=n,l=n;l>a;)0===r[4*(l-1)+3]?s=l:a=l,l=s+a>>1;var u=l/n;return 0===u?1:u}(e,0,r):1,h=Math.ceil(c*a/o),m=Math.ceil(c*s/r/f),g=0,v=0;g<r;){for(var q=0,y=0;q<o;)p.clearRect(0,0,c,c),p.drawImage(e,-q,-g),l.drawImage(d,0,0,c,c,y,v,h,m),q+=c,y+=h;g+=c,v+=m}l.restore(),d=p=null}else l.drawImage(e,0,0,a,s)}function t(e,t){if(window.Blob&&e instanceof Blob){var n=new Image,i=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!i)throw Error("No createObjectURL function found to create blob url");n.src=i.createObjectURL(e),this.blob=e,e=n}if(!e.naturalWidth&&!e.naturalHeight){var o=this;e.onload=function(){var e=o.imageLoadListeners;if(e){o.imageLoadListeners=null;for(var t=0,n=e.length;t<n;t++)e[t]()}},e.onerror=t,this.imageLoadListeners=[]}this.srcImage=e}t.prototype.render=function(t,n){if(this.imageLoadListeners){var i=this;this.imageLoadListeners.push((function(){i.render(t,n)}))}else{n=n||{};var o=this.srcImage.naturalWidth,r=this.srcImage.naturalHeight,a=n.width,s=n.height,l=n.maxWidth,u=n.maxHeight,c=!this.blob||"image/jpeg"===this.blob.type;a&&!s?s=r*a/o|0:s&&!a?a=o*s/r|0:(a=o,s=r),l&&a>l&&(s=r*(a=l)/o|0),u&&s>u&&(a=o*(s=u)/r|0);var d={width:a,height:s};for(var p in n)d[p]=n[p];var f=t.tagName.toLowerCase();"img"===f?t.src=function(t,n,i){var o=document.createElement("canvas"),r=n.mime||"image/jpeg";return e(t,o,n,i),o.toDataURL(r,n.quality||.8)}(this.srcImage,d,c):"canvas"===f&&e(this.srcImage,t,d,c),"function"===typeof this.onrender&&this.onrender(t)}},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return t}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(),qq.ImageGenerator=function(e){"use strict";var t;function n(e){return"img"===e.tagName.toLowerCase()}function i(e){return"canvas"===e.tagName.toLowerCase()}function o(e){var t=e.split("/"),n=t[t.length-1],i=qq.getExtension(n);switch(i=i&&i.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function r(e){var t,n,i,o=document.createElement("a");return o.href=e,t=o.protocol,i=o.port,n=o.hostname,t.toLowerCase()!==window.location.protocol.toLowerCase()||(n.toLowerCase()!==window.location.hostname.toLowerCase()||i!==window.location.port&&!qq.ie())}function a(t,o){var r=n(t)||i(t);return n(t)?function(t,n){t.onload=function(){t.onload=null,t.onerror=null,n.success(t)},t.onerror=function(){t.onload=null,t.onerror=null,e("Problem drawing preview!","error"),n.failure(t,"Problem drawing preview!")}}(t,o):i(t)?function(e,t){var n=e.getContext("2d"),i=n.drawImage;n.drawImage=function(){i.apply(this,arguments),t.success(e),n.drawImage=i}}(t,o):(o.failure(t),e(qq.format("Element container of type {} is not supported!",t.tagName),"error")),r}function s(e,t,n,i){var s=new Image,l=new qq.Promise;a(s,l),r(e)&&(s.crossOrigin="anonymous"),s.src=e,l.then((function(){a(t,n),new MegaPixImage(s).render(t,{maxWidth:i,maxHeight:i,mime:o(e)})}))}function l(e,t,n,i){a(t,n),qq(t).css({maxWidth:i+"px",maxHeight:i+"px"}),t.src=e}function u(e,t,o){var u,c=new qq.Promise,d=o.scale,p=d?o.maxSize:null;return d&&n(t)?(u=document.createElement("canvas")).getContext&&u.getContext("2d")?r(e)&&void 0===(new Image).crossOrigin?l(e,t,c,p):s(e,t,c,p):l(e,t,c,p):i(t)?s(e,t,c,p):a(t,c)&&(t.src=e),c}return(t={generate:function(t,n,i){return qq.isString(t)?(e("Attempting to update thumbnail based on server response."),u(t,n,i||{})):(e("Attempting to draw client-side image preview."),function(t,n,i){var o=new qq.Promise,r=new qq.Identify(t,e),s=i.maxSize,l=function(){o.failure(n,"Browser cannot render image!")};return r.isPreviewable().then((function(i){var r=new qq.Exif(t,e),u=new MegaPixImage(t,l);a(n,o)&&r.parse().then((function(e){var t=e.Orientation;u.render(n,{maxWidth:s,maxHeight:s,orientation:t,mime:i})}),(function(t){e(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",t)),u.render(n,{maxWidth:s,maxHeight:s,mime:i})}))}),(function(){e("Not previewable"),o.failure(n,"Not previewable")})),o}(t,n,i||{}))}})._testing={},t._testing.isImg=n,t._testing.isCanvas=i,t._testing.isCrossOrigin=r,t._testing.determineMimeOfFileName=o,t},qq.Exif=function(e,t){var n,i=[274],o={274:{name:"Orientation",bytes:2}};function r(e){for(var t=0,n=0;e.length>0;)t+=parseInt(e.substring(0,2),16)*Math.pow(2,n),e=e.substring(2,e.length),n+=8;return t}function a(t,n){var i=t,o=n;return void 0===i&&(i=2,o=new qq.Promise),qq.readBlobToHex(e,i,4).then((function(e){var t=/^ffe([0-9])/.exec(e);if(t)if("1"!==t[1]){var n=parseInt(e.slice(4,8),16);a(i+n+2,o)}else o.success(i);else o.failure("No EXIF header to be found!")})),o}function s(){var t=new qq.Promise;return qq.readBlobToHex(e,0,6).then((function(e){0!==e.indexOf("ffd8")?t.failure("Not a valid JPEG!"):a().then((function(e){t.success(e)}),(function(e){t.failure(e)}))})),t}return(n={parse:function(){var n=new qq.Promise,a=function(e){t(qq.format("EXIF header parse failed: '{}' ",e)),n.failure(e)};return s().then((function(s){var l,u;t(qq.format("Moving forward with EXIF header parsing for '{}'",void 0===e.name?"blob":e.name)),(l=s,u=new qq.Promise,qq.readBlobToHex(e,l+10,2).then((function(e){u.success("4949"===e)})),u).then((function(l){t(qq.format("EXIF Byte order is {} endian",l?"little":"big")),function(t,n){var i=new qq.Promise;return qq.readBlobToHex(e,t+18,2).then((function(e){if(n)return i.success(r(e));i.success(parseInt(e,16))})),i}(s,l).then((function(u){t(qq.format("Found {} APP1 directory entries",u)),function(t,n){var i=t+20,o=12*n;return qq.readBlobToHex(e,i,o)}(s,u).then((function(e){var a=function(e){for(var t=[],n=0;n+24<=e.length;)t.push(e.slice(n,n+24)),n+=24;return t}(e),s=function(e,t){var n=qq.extend([],i),a={};return qq.each(t,(function(t,i){var s,l,u,c=i.slice(0,4),d=e?r(c):parseInt(c,16),p=n.indexOf(d);if(p>=0&&(l=o[d].name,u=o[d].bytes,s=i.slice(16,16+2*u),a[l]=e?r(s):parseInt(s,16),n.splice(p,1)),0===n.length)return!1})),a}(l,a);t("Successfully parsed some EXIF tags"),n.success(s)}),a)}),a)}),a)}),a),n}})._testing={},n._testing.parseLittleEndian=r,n},qq.Identify=function(e,t){var n={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]};return{isPreviewable:function(){var i=new qq.Promise,o=!1,r=void 0===e.name?"blob":e.name;return t(qq.format("Attempting to determine if {} can be rendered in this browser",r)),qq.readBlobToHex(e,0,4).then((function(e){qq.each(n,(function(t,n){if(r=e,a=!1,s=[].concat(n),qq.each(s,(function(e,t){if(0===r.indexOf(t))return a=!0,!1})),a)return("image/tiff"!==t||qq.safari())&&(o=!0,i.success(t)),!1;var r,a,s})),t(qq.format("'{}' is {} able to be rendered in this browser",r,o?"":"NOT")),o||i.failure()})),i}}},qq.UiEventHandler=function(e,t){"use strict";var n=new qq.DisposeSupport,i={eventType:"click",attachTo:null,onHandled:function(e,t){}},o={addHandler:function(e){r(e)},dispose:function(){n.dispose()}};function r(e){n.attach(e,i.eventType,(function(e){var t=(e=e||window.event).target||e.srcElement;i.onHandled(t,e)}))}return qq.extend(t,{getFileIdFromItem:function(e){return e.qqFileId},getDisposeSupport:function(){return n}}),qq.extend(i,e),i.attachTo&&r(i.attachTo),o},qq.DeleteRetryOrCancelClickHandler=function(e){"use strict";var t={templating:null,log:function(e,t){},classes:{cancel:"qq-upload-cancel",deleteButton:"qq-upload-delete",retry:"qq-upload-retry"},onDeleteFile:function(e){},onCancel:function(e){},onRetry:function(e){},onGetName:function(e){}};qq.extend(t,e),t.eventType="click",t.onHandled=function(e,n){if(t.templating.isCancel(e)||t.templating.isRetry(e)||t.templating.isDelete(e)){var i=t.templating.getFileId(e);qq.preventDefault(n),t.log(qq.format("Detected valid cancel, retry, or delete click event on file '{}', ID: {}.",t.onGetName(i),i)),function(e,n){t.templating.isDelete(e)?t.onDeleteFile(n):t.templating.isCancel(e)?t.onCancel(n):t.onRetry(n)}(e,i)}},t.attachTo=t.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(t,{}))},qq.FilenameClickHandler=function(e){"use strict";var t={},n={templating:null,log:function(e,t){},classes:{file:"qq-upload-file",editNameIcon:"qq-edit-filename-icon"},onGetUploadStatus:function(e){},onGetName:function(e){}};return qq.extend(n,e),n.eventType="click",n.onHandled=function(e,i){if(n.templating.isFileName(e)||n.templating.isEditIcon(e)){var o=n.templating.getFileId(e);n.onGetUploadStatus(o)===qq.status.SUBMITTED&&(n.log(qq.format("Detected valid filename click event on file '{}', ID: {}.",n.onGetName(o),o)),qq.preventDefault(i),t.handleFilenameEdit(o,e,!0))}},qq.extend(this,new qq.FilenameEditHandler(n,t))},qq.FilenameInputFocusInHandler=function(e,t){"use strict";var n={templating:null,onGetUploadStatus:function(e){},log:function(e,t){}};return t||(t={}),n.eventType="focusin",n.onHandled=function(e,i){if(n.templating.isEditInput(e)){var o=n.templating.getFileId(e);n.onGetUploadStatus(o)===qq.status.SUBMITTED&&(n.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.",n.onGetName(o),o)),t.handleFilenameEdit(o,e))}},qq.extend(n,e),qq.extend(this,new qq.FilenameEditHandler(n,t))},qq.FilenameInputFocusHandler=function(e){"use strict";return e.eventType="focus",e.attachTo=null,qq.extend(this,new qq.FilenameInputFocusInHandler(e,{}))},qq.FilenameEditHandler=function(e,t){"use strict";var n,i={templating:null,log:function(e,t){},onGetUploadStatus:function(e){},onGetName:function(e){},onSetName:function(e,t){},onEditingStatusChange:function(e,t){}};function o(e,t){var n,o=e.value;void 0!==o&&qq.trimStr(o).length>0&&(n=function(e){var t=i.onGetName(e);return qq.getExtension(t)}(t),void 0!==n&&(o=o+"."+n),i.onSetName(t,o)),i.onEditingStatusChange(t,!1)}return qq.extend(i,e),i.attachTo=i.templating.getFileList(),n=qq.extend(this,new qq.UiEventHandler(i,t)),qq.extend(t,{handleFilenameEdit:function(e,n,r){var a,s,l,u=i.templating.getEditInput(e);i.onEditingStatusChange(e,!0),u.value=(a=e,s=i.onGetName(a),(l=s.lastIndexOf("."))>0&&(s=s.substr(0,l)),s),r&&u.focus(),function(e,n){t.getDisposeSupport().attach(e,"blur",(function(){o(e,n)}))}(u,e),function(e,n){t.getDisposeSupport().attach(e,"keyup",(function(t){13===(t.keyCode||t.which)&&o(e,n)}))}(u,e)}}),n},function(e){"use strict";var t,n=["uploaderType","endpointType"];function i(n){if(n){var i=s(n),o=(l=i,c=a("uploaderType"),d=a("endpointType"),c?(c=c.charAt(0).toUpperCase()+c.slice(1).toLowerCase(),d?new qq[d]["FineUploader"+c](l):new qq["FineUploader"+c](l)):d?new qq[d].FineUploader(l):new qq.FineUploader(l));r(o),function(n,i){var o=n.callbacks={};e.each(i._options.callbacks,(function(n,i){var r,a;r=(r=/^on(\w+)/.exec(n)[1]).substring(0,1).toLowerCase()+r.substring(1),a=t,o[n]=function(){var t,n,o=Array.prototype.slice.call(arguments),s=[];return e.each(o,(function(e,t){s.push(u(t))})),t=i.apply(this,o),n=a.triggerHandler(r,s),null!=t?t:n}})),i._options.callbacks=o}(i,o)}var l,c,d;return t}function o(e,n){var i=t.data("fineuploader");if(!n)return void 0===i?null:i[e];void 0===i&&(i={}),i[e]=n,t.data("fineuploader",i)}function r(e){return o("uploader",e)}function a(e,t){return o(e,t)}function s(i,o){var r,l;if(r=void 0===o?"basic"!==i.uploaderType?{element:t[0]}:{}:o,e.each(i,(function(t,i){e.inArray(t,n)>=0?a(t,i):i instanceof e?r[t]=i[0]:e.isPlainObject(i)?(r[t]={},s(i,r[t])):e.isArray(i)?(l=[],e.each(i,(function(t,n){var i={};n instanceof e?e.merge(l,n):e.isPlainObject(n)?(s(n,i),l.push(i)):l.push(n)})),r[t]=l):r[t]=i})),void 0===o)return r}function l(e){var t=[];return s(Array.prototype.slice.call(arguments,1),t),u(r()[e].apply(r(),t))}function u(t){var n=t;return null==t||"object"!==typeof t||1!==t.nodeType&&9!==t.nodeType||!t.cloneNode||(n=e(t)),n}e.fn.fineUploader=function(n){var o=this,a=arguments,s=[];return this.each((function(u,c){if(t=e(c),r()&&(d=n,"string"===e.type(d)&&!d.match(/^_/)&&void 0!==r()[d])){if(s.push(l.apply(o,a)),1===o.length)return!1}else"object"!==typeof n&&n?e.error("Method "+n+" does not exist on jQuery.fineUploader"):i.apply(o,a);var d})),1===s.length?s[0]:s.length>1?s:this}}(jQuery),function(e){"use strict";var t,n="fineUploaderDnd";function i(n){n||(n={}),n.dropZoneElements=[t];var i=r(n);return function(n){var i=n.callbacks={};new qq.FineUploaderBasic;e.each(new qq.DragAndDrop.callbacks,(function(e,n){var o,r=e;o=t,i[e]=function(){var e=Array.prototype.slice.call(arguments);return o.triggerHandler(r,e)}}))}(i),o(new qq.DragAndDrop(i)),t}function o(e){return function(e,i){var o=t.data(n);if(!i)return void 0===o?null:o[e];void 0===o&&(o={}),o[e]=i,t.data(n,o)}("dndInstance",e)}function r(t,n){var i,o;if(i=void 0===n?{}:n,e.each(t,(function(t,n){n instanceof e?i[t]=n[0]:e.isPlainObject(n)?(i[t]={},r(n,i[t])):e.isArray(n)?(o=[],e.each(n,(function(t,n){n instanceof e?e.merge(o,n):o.push(n)})),i[t]=o):i[t]=n})),void 0===n)return i}function a(e){var t=[];return r(Array.prototype.slice.call(arguments,1),t),o()[e].apply(o(),t)}e.fn.fineUploaderDnd=function(n){var r=this,s=arguments,l=[];return this.each((function(u,c){if(t=e(c),o()&&(d=n,"string"===e.type(d)&&"dispose"===d&&void 0!==o()[d])){if(l.push(a.apply(r,s)),1===r.length)return!1}else"object"!==typeof n&&n?e.error("Method "+n+" does not exist in Fine Uploader's DnD module."):i.apply(r,s);var d})),1===l.length?l[0]:l.length>1?l:this}}(jQuery)},9136:function(e,t,n){var i,o,r;o=[n(1669)],i=function(e){var t=function(t,n,i){t=e(t);var o,r=this,a=t.val();n="function"===typeof n?n(t.val(),void 0,t,i):n;var s={invalid:[],getCaret:function(){try{var e,n=0,o=t.get(0),r=document.selection,a=o.selectionStart;return r&&-1===navigator.appVersion.indexOf("MSIE 10")?((e=r.createRange()).moveStart("character",t.is("input")?-t.val().length:-t.text().length),n=e.text.length):(a||"0"===a)&&(n=a),n}catch(i){}},setCaret:function(e){try{if(t.is(":focus")){var n,i=t.get(0);i.setSelectionRange?i.setSelectionRange(e,e):i.createTextRange&&((n=i.createTextRange()).collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select())}}catch(o){}},events:function(){t.on("input.mask keyup.mask",s.behaviour).on("paste.mask drop.mask",(function(){setTimeout((function(){t.keydown().keyup()}),100)})).on("change.mask",(function(){t.data("changed",!0)})).on("blur.mask",(function(){a===t.val()||t.data("changed")||t.triggerHandler("change"),t.data("changed",!1)})).on("blur.mask",(function(){a=t.val()})).on("focus.mask",(function(t){!0===i.selectOnFocus&&e(t.target).select()})).on("focusout.mask",(function(){i.clearIfNotMatch&&!o.test(s.val())&&s.val("")}))},getRegexMask:function(){for(var e,t,i,o,a=[],s=0;s<n.length;s++)(e=r.translation[n.charAt(s)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=e.optional,(e=e.recursive)?(a.push(n.charAt(s)),o={digit:n.charAt(s),pattern:t}):a.push(i||e?t+"?":t)):a.push(n.charAt(s).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return a=a.join(""),o&&(a=a.replace(new RegExp("("+o.digit+"(.*"+o.digit+")?)"),"($1)?").replace(new RegExp(o.digit,"g"),o.pattern)),new RegExp(a)},destroyEvents:function(){t.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(e){var n=t.is("input")?"val":"text";return 0<arguments.length?(t[n]()!==e&&t[n](e),n=t):n=t[n](),n},getMCharsBeforeCount:function(e,t){for(var i=0,o=0,a=n.length;o<a&&o<e;o++)r.translation[n.charAt(o)]||(e=t?e+1:e,i++);return i},caretPos:function(e,t,i,o){return r.translation[n.charAt(Math.min(e-1,n.length-1))]?Math.min(e+i-t-o,i):s.caretPos(e+1,t,i,o)},behaviour:function(t){t=t||window.event,s.invalid=[];var n=t.keyCode||t.which;if(-1===e.inArray(n,r.byPassKeys)){var i=s.getCaret(),o=s.val().length,a=i<o,l=s.getMasked(),u=l.length,c=s.getMCharsBeforeCount(u-1)-s.getMCharsBeforeCount(o-1);return s.val(l),!a||65===n&&t.ctrlKey||(8!==n&&46!==n&&(i=s.caretPos(i,o,u,c)),s.setCaret(i)),s.callbacks(t)}},getMasked:function(e){var t,o,a=[],l=s.val(),u=0,c=n.length,d=0,p=l.length,f=1,h="push",m=-1;for(i.reverse?(h="unshift",f=-1,t=0,u=c-1,d=p-1,o=function(){return-1<u&&-1<d}):(t=c-1,o=function(){return u<c&&d<p});o();){var g=n.charAt(u),v=l.charAt(d),q=r.translation[g];q?(v.match(q.pattern)?(a[h](v),q.recursive&&(-1===m?m=u:u===t&&(u=m-f),t===m&&(u-=f)),u+=f):q.optional?(u+=f,d-=f):q.fallback?(a[h](q.fallback),u+=f,d-=f):s.invalid.push({p:d,v:v,e:q.pattern}),d+=f):(e||a[h](g),v===g&&(d+=f),u+=f)}return e=n.charAt(t),c!==p+1||r.translation[e]||a.push(e),a.join("")},callbacks:function(e){var o=s.val(),r=o!==a,l=[o,e,t,i],u=function(e,t,n){"function"===typeof i[e]&&t&&i[e].apply(this,n)};u("onChange",!0===r,l),u("onKeyPress",!0===r,l),u("onComplete",o.length===n.length,l),u("onInvalid",0<s.invalid.length,[o,e,t,s.invalid,i])}};r.mask=n,r.options=i,r.remove=function(){var e=s.getCaret();return s.destroyEvents(),s.val(r.getCleanVal()),s.setCaret(e-s.getMCharsBeforeCount(e)),t},r.getCleanVal=function(){return s.getMasked(!0)},r.init=function(n){n=n||!1,i=i||{},r.byPassKeys=e.jMaskGlobals.byPassKeys,r.translation=e.jMaskGlobals.translation,r.translation=e.extend({},r.translation,i.translation),r=e.extend(!0,{},r,i),o=s.getRegexMask(),!1===n?(i.placeholder&&t.attr("placeholder",i.placeholder),e("input").length&&!1==="oninput"in e("input")[0]&&"on"===t.attr("autocomplete")&&t.attr("autocomplete","off"),s.destroyEvents(),s.events(),n=s.getCaret(),s.val(s.getMasked()),s.setCaret(n+s.getMCharsBeforeCount(n,!0))):(s.events(),s.val(s.getMasked()))},r.init(!t.is("input"))};e.maskWatchers={};var n=function(){var n=e(this),o={},r=n.attr("data-mask");if(n.attr("data-mask-reverse")&&(o.reverse=!0),n.attr("data-mask-clearifnotmatch")&&(o.clearIfNotMatch=!0),"true"===n.attr("data-mask-selectonfocus")&&(o.selectOnFocus=!0),i(n,r,o))return n.data("mask",new t(this,r,o))},i=function(t,n,i){i=i||{};var o=e(t).data("mask"),r=JSON.stringify;t=e(t).val()||e(t).text();try{return"function"===typeof n&&(n=n(t)),"object"!==typeof o||r(o.options)!==r(i)||o.mask!==n}catch(a){}};e.fn.mask=function(n,o){o=o||{};var r=this.selector,a=e.jMaskGlobals,s=e.jMaskGlobals.watchInterval,l=function(){if(i(this,n,o))return e(this).data("mask",new t(this,n,o))};return e(this).each(l),r&&""!==r&&a.watchInputs&&(clearInterval(e.maskWatchers[r]),e.maskWatchers[r]=setInterval((function(){e(document).find(r).each(l)}),s)),this},e.fn.unmask=function(){return clearInterval(e.maskWatchers[this.selector]),delete e.maskWatchers[this.selector],this.each((function(){var t=e(this).data("mask");t&&t.remove().removeData("mask")}))},e.fn.cleanVal=function(){return this.data("mask").getCleanVal()},e.applyDataMask=function(t){((t=t||e.jMaskGlobals.maskElements)instanceof e?t:e(t)).filter(e.jMaskGlobals.dataMaskAttr).each(n)};var o={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};e.jMaskGlobals=e.jMaskGlobals||{},(o=e.jMaskGlobals=e.extend(!0,{},o,e.jMaskGlobals)).dataMask&&e.applyDataMask(),setInterval((function(){e.jMaskGlobals.watchDataMask&&e.applyDataMask()}),o.watchInterval)},void 0===(r="function"===typeof i?i.apply(t,o):i)||(e.exports=r)},3700:function(){!function(e,t,n){"use strict";function i(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function o(e,t,n){var i,o;for(i in n)n.hasOwnProperty(i)&&(o=i.replace(/ |$/g,t.eventNamespace),e.bind(o,n[i]))}function r(e,t,n){o(e,n,{focus:function(){t.addClass(n.focusClass)},blur:function(){t.removeClass(n.focusClass),t.removeClass(n.activeClass)},mouseenter:function(){t.addClass(n.hoverClass)},mouseleave:function(){t.removeClass(n.hoverClass),t.removeClass(n.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(n.activeClass)},"mouseup touchend":function(){t.removeClass(n.activeClass)}})}function a(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function s(e,t,n){n?e.addClass(t):e.removeClass(t)}function l(e,t,n){var i="checked",o=t.is(":"+i);t.prop?t.prop(i,o):o?t.attr(i,i):t.removeAttr(i),s(e,n.checkedClass,o)}function u(e,t,n){s(e,n.disabledClass,t.is(":disabled"))}function c(e,t,n){switch(n){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function d(e,n,o){var r,a,s;return o||(o={}),o=t.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},o),r=t("<div />"),a=t("<span />"),n.autoHide&&e.is(":hidden")&&"none"===e.css("display")&&r.hide(),o.divClass&&r.addClass(o.divClass),n.wrapperClass&&r.addClass(n.wrapperClass),o.spanClass&&a.addClass(o.spanClass),s=i(e,"id"),n.useID&&s&&i(r,"id",n.idPrefix+"-"+s),o.spanHtml&&a.html(o.spanHtml),r=c(e,r,o.divWrap),a=c(e,a,o.spanWrap),u(r,e,n),{div:r,span:a}}function p(e,n){return n.wrapperClass?c(e,t("<span />").addClass(n.wrapperClass),"wrap"):null}function f(e){return e?t("<span />").text(e).html():""}function h(){return navigator.cpuClass&&!navigator.product}function m(e){var t;return!!e[0].multiple||!(!(t=i(e,"size"))||1>=t)}function g(){return!1}function v(e,t){var n="none";o(e,t,{"selectstart dragstart mousedown":g}),e.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n})}function q(e,t,n){var i=e.val();""===i?i=n.fileDefaultHtml:i=(i=i.split(/[\/\\]+/))[i.length-1],t.text(i)}function y(e,t,n){var i,o;for(i=[],e.each((function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])})),n();i.length;)(o=i.pop()).el.style[o.name]=o.old}function b(e,t){var n;(n=e.parents()).push(e[0]),y(n=n.not(":visible"),{visibility:"hidden",display:"block",position:"absolute"},t)}function _(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var w=!0,C=!1,x=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(t,n){var s,l,c,p,h;return l=n.submitDefaultHtml,t.is(":reset")&&(l=n.resetDefaultHtml),p=t.is("a, button")?function(){return t.html()||l}:function(){return f(i(t,"value"))||l},c=d(t,n,{divClass:n.buttonClass,spanHtml:p()}),s=c.div,r(t,s,n),h=!1,o(s,n,{"click touchend":function(){var n,o,r,a;h||t.is(":disabled")||(h=!0,t[0].dispatchEvent?((n=document.createEvent("MouseEvents")).initEvent("click",!0,!0),o=t[0].dispatchEvent(n),t.is("a")&&o&&(r=i(t,"target"),a=i(t,"href"),r&&"_self"!==r?e.open(a,r):document.location.href=a)):t.click(),h=!1)}}),v(s,n),{remove:function(){return s.after(t),s.remove(),t.unbind(n.eventNamespace),t},update:function(){a(s,n),u(s,t,n),t.detach(),c.span.html(p()).append(t)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var n,i,s;return n=d(e,t,{divClass:t.checkboxClass}),i=n.div,s=n.span,r(e,i,t),o(e,t,{"click touchend":function(){l(s,e,t)}}),l(s,e,t),{remove:_(e,t),update:function(){a(i,t),s.removeClass(t.checkedClass),l(s,e,t),u(i,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(e,n){function s(){q(e,f,n)}var l,p,f,m;return l=d(e,n,{divClass:n.fileClass,spanClass:n.fileButtonClass,spanHtml:n.fileButtonHtml,spanWrap:"after"}),p=l.div,m=l.span,(f=t("<span />").html(n.fileDefaultHtml)).addClass(n.filenameClass),f=c(e,f,"after"),i(e,"size")||i(e,"size",p.width()/10),r(e,p,n),s(),h()?o(e,n,{click:function(){e.trigger("change"),setTimeout(s,0)}}):o(e,n,{change:s}),v(f,n),v(m,n),{remove:function(){return f.remove(),m.remove(),e.unwrap().unbind(n.eventNamespace)},update:function(){a(p,n),q(e,f,n),u(p,e,n)}}}},{match:function(e){if(e.is("input")){var t=(" "+i(e,"type")+" ").toLowerCase();return" color date datetime datetime-local email month number password search tel text time url week ".indexOf(t)>=0}return!1},apply:function(e,t){var n,o;return n=i(e,"type"),e.addClass(t.inputClass),o=p(e,t),r(e,e,t),t.inputAddTypeAsClass&&e.addClass(n),{remove:function(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(n),o&&e.unwrap()},update:g}}},{match:function(e){return e.is(":radio")},apply:function(e,n){var s,c,p;return s=d(e,n,{divClass:n.radioClass}),c=s.div,p=s.span,r(e,c,n),o(e,n,{"click touchend":function(){t.uniform.update(t(':radio[name="'+i(e,"name")+'"]'))}}),l(p,e,n),{remove:_(e,n),update:function(){a(c,n),l(p,e,n),u(c,e,n)}}}},{match:function(e){return!(!e.is("select")||m(e))},apply:function(e,n){var i,s,l,c;return n.selectAutoWidth&&b(e,(function(){c=e.width()})),i=d(e,n,{divClass:n.selectClass,spanHtml:(e.find(":selected:first")||e.find("option:first")).html(),spanWrap:"before"}),s=i.div,l=i.span,n.selectAutoWidth?b(e,(function(){y(t([l[0],s[0]]),{display:"block"},(function(){var e;e=l.outerWidth()-l.width(),s.width(c+e),l.width(c)}))})):s.addClass("fixedWidth"),r(e,s,n),o(e,n,{change:function(){l.html(e.find(":selected").html()),s.removeClass(n.activeClass)},"click touchend":function(){var t=e.find(":selected").html();l.html()!==t&&e.trigger("change")},keyup:function(){l.html(e.find(":selected").html())}}),v(l,n),{remove:function(){return l.remove(),e.unwrap().unbind(n.eventNamespace),e},update:function(){n.selectAutoWidth?(t.uniform.restore(e),e.uniform(n)):(a(s,n),l.html(e.find(":selected").html()),u(s,e,n))}}}},{match:function(e){return!(!e.is("select")||!m(e))},apply:function(e,t){var n;return e.addClass(t.selectMultiClass),n=p(e,t),r(e,e,t),{remove:function(){e.removeClass(t.selectMultiClass),n&&e.unwrap()},update:g}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var n;return e.addClass(t.textareaClass),n=p(e,t),r(e,e,t),{remove:function(){e.removeClass(t.textareaClass),n&&e.unwrap()},update:g}}}];h()&&!(void 0!==e.XMLHttpRequest)&&(w=!1),t.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},t.fn.uniform=function(n){var i=this;return n=t.extend({},t.uniform.defaults,n),C||(C=!0,function(){var n,i,o,r;return i=t('<div style="width:0;height:0;color:'+(r="rgb(120,2,153)")+'">'),t("body").append(i),o=i.get(0),n=e.getComputedStyle?e.getComputedStyle(o,"").color:(o.currentStyle||o.style||{}).color,i.remove(),n.replace(/ /g,"")!==r}()&&(w=!1)),w?(n.resetSelector&&t(n.resetSelector).mouseup((function(){e.setTimeout((function(){t.uniform.update(i)}),10)})),this.each((function(){var e,i,o,r=t(this);if(r.data("uniformed"))t.uniform.update(r);else for(e=0;e<x.length;e+=1)if((i=x[e]).match(r,n))return o=i.apply(r,n),r.data("uniformed",o),void t.uniform.elements.push(r.get(0))}))):this},t.uniform.restore=t.fn.uniform.restore=function(e){e===n&&(e=t.uniform.elements),t(e).each((function(){var e,n,i=t(this);(n=i.data("uniformed"))&&(n.remove(),(e=t.inArray(this,t.uniform.elements))>=0&&t.uniform.elements.splice(e,1),i.removeData("uniformed"))}))},t.uniform.update=t.fn.uniform.update=function(e){e===n&&(e=t.uniform.elements),t(e).each((function(){var e,n=t(this);(e=n.data("uniformed"))&&e.update(n,e.options)}))}}(this,jQuery)},2481:function(e,t){var n;window.Mailcheck={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],defaultTopLevelDomains:["com","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","net","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","in","net","net.au","info","biz","mil","co.jp","sg","hu","uk"],run:function(e){e.domains=e.domains||Mailcheck.defaultDomains,e.secondLevelDomains=e.secondLevelDomains||Mailcheck.defaultSecondLevelDomains,e.topLevelDomains=e.topLevelDomains||Mailcheck.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||Mailcheck.sift4Distance;var t=function(e){return e},n=e.suggested||t,i=e.empty||t,o=Mailcheck.suggest(Mailcheck.encodeEmail(e.email),e.domains,e.secondLevelDomains,e.topLevelDomains,e.distanceFunction);return o?n(o):i()},suggest:function(e,t,n,i,o){e=e.toLowerCase();var r=this.splitEmail(e);if(n&&i&&-1!==n.indexOf(r.secondLevelDomain)&&-1!==i.indexOf(r.topLevelDomain))return!1;var a=this.findClosestDomain(r.domain,t,o,this.domainThreshold);if(a)return a!=r.domain&&{address:r.address,domain:a,full:r.address+"@"+a};var s=this.findClosestDomain(r.secondLevelDomain,n,o,this.secondLevelThreshold),l=this.findClosestDomain(r.topLevelDomain,i,o,this.topLevelThreshold);if(r.domain){a=r.domain;var u=!1;if(s&&s!=r.secondLevelDomain&&(a=a.replace(r.secondLevelDomain,s),u=!0),l&&l!=r.topLevelDomain&&""!==r.secondLevelDomain&&(a=a.replace(new RegExp(r.topLevelDomain+"$"),l),u=!0),u)return{address:r.address,domain:a,full:r.address+"@"+a}}return!1},findClosestDomain:function(e,t,n,i){i=i||this.topLevelThreshold;var o,r=1/0,a=null;if(!e||!t)return!1;n||(n=this.sift4Distance);for(var s=0;s<t.length;s++){if(e===t[s])return e;r>(o=n(e,t[s]))&&(r=o,a=t[s])}return i>=r&&null!==a&&a},sift4Distance:function(e,t,n){if(void 0===n&&(n=5),!e||!e.length)return t?t.length:0;if(!t||!t.length)return e.length;for(var i=e.length,o=t.length,r=0,a=0,s=0,l=0,u=0,c=[];i>r&&o>a;){if(e.charAt(r)==t.charAt(a)){l++;for(var d=!1,p=0;p<c.length;){var f=c[p];if(r<=f.c1||a<=f.c2){(d=Math.abs(a-r)>=Math.abs(f.c2-f.c1))?u++:f.trans||(f.trans=!0,u++);break}r>f.c2&&a>f.c1?c.splice(p,1):p++}c.push({c1:r,c2:a,trans:d})}else{s+=l,l=0,r!=a&&(r=a=Math.min(r,a));for(var h=0;n>h&&(i>r+h||o>a+h);h++){if(i>r+h&&e.charAt(r+h)==t.charAt(a)){r+=h-1,a--;break}if(o>a+h&&e.charAt(r)==t.charAt(a+h)){r--,a+=h-1;break}}}a++,(++r>=i||a>=o)&&(s+=l,l=0,r=a=Math.min(r,a))}return s+=l,Math.round(Math.max(i,o)-s+u)},splitEmail:function(e){var t=(e=null!==e?e.replace(/^\s*/,"").replace(/\s*$/,""):null).split("@");if(t.length<2)return!1;for(var n=0;n<t.length;n++)if(""===t[n])return!1;var i=t.pop(),o=i.split("."),r="",a="";if(0===o.length)return!1;if(1==o.length)a=o[0];else{r=o[0];for(var s=1;s<o.length;s++)a+=o[s]+".";a=a.substring(0,a.length-1)}return{topLevelDomain:a,secondLevelDomain:r,domain:i,address:t.join("@")}},encodeEmail:function(e){var t=encodeURI(e);return t.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}},e.exports&&(e.exports=Mailcheck),void 0!==(n=function(){return Mailcheck}.apply(t,[]))&&(e.exports=n),"undefined"!=typeof window&&window.jQuery&&(jQuery.fn.mailcheck=function(e){var t=this;if(e.suggested){var n=e.suggested;e.suggested=function(e){n(t,e)}}if(e.empty){var i=e.empty;e.empty=function(){i.call(null,t)}}e.email=this.val(),Mailcheck.run(e)})},7562:function(e,t,n){var i,o,r;function a(e,t,n){var i=!1,o=null,r=0,s=0,l=[],u=[],c="auto",d=null,p=null,f="file",h={},m={},g=function(e){},v=function(e){},q=function(e){},y=function(e){},b=function(e){},_=function(){},w=function(e){},C=function(){},x=function(e,t){},E=[],S=[],I={files:E},F=0,k=null,D=function(e,t){B(e,t),0==--F&&N(),a.activeUploads--,a.uploadNext()},T=function(e){return g.call(I,e)},A=function(e,t){return!(O(e)>0)&&(!1===v.call(E[e],t)?(z(e,4),!1):!(O(e)>0)&&void z(e,1))},U=function(e,t){1==O(e)&&q.call(E[e],t)},R=function(e,t){1==O(e)&&(z(e,2),y.call(E[e],t),D(e,"success"))},P=function(e,t){1==O(e)&&(z(e,3),b.call(E[e],t),D(e,"error"))},L=function(e){_.call(E[e]),D(e,"cancel")},B=function(e,t){w.call(E[e],t)},N=function(){C.call(I),null!=k&&k.remove()};function M(n){if(1==O(n)){if(null!=o){if(null==o[n]||null==o[n])return void P(n,{name:"InternalError",message:"There was an error uploading the file"});if(window.FormData){var i=$.ajaxSettings.xhr();if(i.upload){var r=o[n],s=new FormData;!function e(t,n,i){for(var o in null!=i&&""!==i||(i=null),n)void 0===n[o]||null===n[o]?t.append(null==i?o+"":i+"["+o+"]",""):"object"==typeof n[o]?e(t,n[o],null==i?o+"":i+"["+o+"]"):"boolean"==typeof n[o]?t.append(null==i?o+"":i+"["+o+"]",n[o]?"true":"false"):"number"==typeof n[o]?t.append(null==i?o+"":i+"["+o+"]",n[o]+""):"string"==typeof n[o]&&t.append(null==i?o+"":i+"["+o+"]",n[o])}(s,h),s.append(f,r);var l={url:e,data:s,type:"post",cache:!1,xhrFields:m,beforeSend:function(e,t){(function(e,t,n){x.call(E[e],t,n)})(n,e,t),S[n].xhr=e},xhr:function(){return i.upload.addEventListener("progress",(function(e){e.lengthComputable&&U(n,e.loaded/e.total*100)}),!1),i},error:function(e){S[n].xhr=null,P(n,{name:"RequestError",message:"Upload failed",xhr:e})},success:function(e){S[n].xhr=null,U(n,100),R(n,e)},contentType:!1,processData:!1};return"auto"!=c&&(l.dataType=c),void $.ajax(l)}}}"object"==typeof t&&null!==t?function(t){if(0==t){var n=a.queueIframe({origin:function(e){var t=document.createElement("a");t.href=e;var n=t.host,i=t.protocol;return""==n&&(n=window.location.host),""!=i&&":"!=i||(i=window.location.protocol),i.replace(/\:$/,"")+"://"+n}(e),expect:c,complete:function(e){1==O(t)&&(S[t].iframe=null,a.dequeueIframe(n),U(t,100),R(t,e))},error:function(e){1==O(t)&&(S[t].iframe=null,a.dequeueIframe(n),P(t,{name:"RequestError",message:e}))}});S[t].iframe=n;var i=function e(t,n){null!=n&&""!==n||(n=null);var i="";for(var o in t)void 0===t[o]||null===t[o]?i+=$("<div>").append($('<input type="hidden">').attr("name",null==n?o+"":n+"["+o+"]").val("")).html():"object"==typeof t[o]?i+=e(t[o],null==n?o+"":n+"["+o+"]"):"boolean"==typeof t[o]?i+=$("<div>").append($('<input type="hidden">').attr("name",null==n?o+"":n+"["+o+"]").val(t[o]?"true":"false")).html():"number"==typeof t[o]?i+=$("<div>").append($('<input type="hidden">').attr("name",null==n?o+"":n+"["+o+"]").val(t[o]+"")).html():"string"==typeof t[o]&&(i+=$("<div>").append($('<input type="hidden">').attr("name",null==n?o+"":n+"["+o+"]").val(t[o])).html());return i}(h);k.attr("action",e+(-1==e.lastIndexOf("?")?"?":"&")+"_iframeUpload="+n+"&_="+(new Date).getTime()).attr("target","simpleUpload_iframe_"+n).prepend(i).submit()}else P(t,{name:"UnsupportedError",message:"Multiple file uploads not supported"})}(n):P(n,{name:"UnsupportedError",message:"Your browser does not support this upload method"})}}function O(e){return S[e].state}function z(e,t){var n="";if(0==t)n="init";else if(1==t)n="uploading";else if(2==t)n="success";else if(3==t)n="error";else{if(4!=t)return!1;n="cancel"}S[e].state=t,E[e].upload.state=n}function j(e){var t=e.lastIndexOf(".");return-1!=t?e.substr(t+1):""}function H(e){return!isNaN(e)&&parseInt(e)+""==e}!function(){if("object"==typeof n&&null!==n){if("boolean"==typeof n.forceIframe&&(i=n.forceIframe),"function"==typeof n.init&&(g=n.init),"function"==typeof n.start&&(v=n.start),"function"==typeof n.progress&&(q=n.progress),"function"==typeof n.success&&(y=n.success),"function"==typeof n.error&&(b=n.error),"function"==typeof n.cancel&&(_=n.cancel),"function"==typeof n.complete&&(w=n.complete),"function"==typeof n.finish&&(C=n.finish),"function"==typeof n.beforeSend&&(x=n.beforeSend),"string"==typeof n.hashWorker&&""!=n.hashWorker&&(d=n.hashWorker),"function"==typeof n.hashComplete&&(p=n.hashComplete),"object"==typeof n.data&&null!==n.data)for(var e in n.data)h[e]=n.data[e];if("number"==typeof n.limit&&H(n.limit)&&n.limit>0&&(r=n.limit),"number"==typeof n.maxFileSize&&H(n.maxFileSize)&&n.maxFileSize>0&&(s=n.maxFileSize),"object"==typeof n.allowedExts&&null!==n.allowedExts)for(var e in n.allowedExts)l.push(n.allowedExts[e]);if("object"==typeof n.allowedTypes&&null!==n.allowedTypes)for(var e in n.allowedTypes)u.push(n.allowedTypes[e]);if("string"==typeof n.expect&&""!=n.expect){var I=n.expect.toLowerCase(),D=["auto","json","xml","html","script","text"];for(var e in D)if(D[e]==I){c=I;break}}if("object"==typeof n.xhrFields&&null!==n.xhrFields)for(var e in n.xhrFields)m[e]=n.xhrFields[e]}if("object"==typeof t&&null!==t&&t instanceof jQuery){if(!(t.length>0))return!1;t=t.get(0)}if(!i&&window.File&&window.FileReader&&window.FileList&&window.Blob&&("object"==typeof n&&null!==n&&"object"==typeof n.files&&null!==n.files?o=n.files:"object"==typeof t&&null!==t&&"object"==typeof t.files&&null!==t.files&&(o=t.files)),("object"!=typeof t||null===t)&&null==o)return!1;"object"==typeof n&&null!==n&&"string"==typeof n.name&&""!=n.name?f=n.name.replace(/\[\s*\]/g,"[0]"):"object"==typeof t&&null!==t&&"string"==typeof t.name&&""!=t.name&&(f=t.name.replace(/\[\s*\]/g,"[0]"));var B=0;if(null!=o?o.length>0&&(B=o.length>1&&window.FormData&&$.ajaxSettings.xhr().upload?r>0&&o.length>r?r:o.length:1):""!=t.value&&(B=1),B>0){if("object"==typeof t&&null!==t){var X=$(t);k=$("<form>").hide().attr("enctype","multipart/form-data").attr("method","post").appendTo("body"),X.after(X.clone(!0).val("")).removeAttr("onchange").off().removeAttr("id").attr("name",f).appendTo(k)}for(var W=0;W<B;W++)!function(e){S[e]={state:0,hashWorker:null,xhr:null,iframe:null},E[e]={upload:{index:e,state:"init",file:null!=o?o[e]:{name:t.value.split(/(\\|\/)/g).pop()},cancel:function(){if(0==O(e))z(e,4);else{if(1!=O(e))return!1;z(e,4),null!=S[e].hashWorker&&(S[e].hashWorker.terminate(),S[e].hashWorker=null),null!=S[e].xhr&&(S[e].xhr.abort(),S[e].xhr=null),null!=S[e].iframe&&($("iframe[name=simpleUpload_iframe_"+S[e].iframe+"]").attr("src","javascript:false;"),a.dequeueIframe(S[e].iframe),S[e].iframe=null),L(e)}return!0}}}}(W);var G=T(B);if(!1!==G){var Y=B;if("number"==typeof G&&H(G)&&G>=0&&G<B)for(var V=Y=G;V<B;V++)z(V,4);for(var Z=[],Q=0;Q<Y;Q++)!1!==A(Q,E[Q].upload.file)&&(Z[Z.length]=Q);Z.length>0?(F=Z.length,a.queueUpload(Z,(function(e){!function(e){if(1==O(e)){var n=null;if(null!=o){if(null==o[e]||null==o[e])return void P(e,{name:"InternalError",message:"There was an error uploading the file"});n=o[e]}else if(""==t.value)return void P(e,{name:"InternalError",message:"There was an error uploading the file"});l.length>0&&!function(e,n){if(null!=n&&null!=n){var i=n.name;if(null!=i&&null!=i&&""!=i){if(""!=(a=j(i).toLowerCase())){var o=!1;for(var r in e)if(e[r].toLowerCase()==a){o=!0;break}return!!o}return!1}}if("object"!=typeof t||null===t)return!0;var a,s=t.value;if(""!=s&&""!=(a=j(s).toLowerCase())){o=!1;for(var r in e)if(e[r].toLowerCase()==a){o=!0;break}if(o)return!0}return!1}(l,n)?P(e,{name:"InvalidFileExtensionError",message:"That file format is not allowed"}):u.length>0&&!function(e,t){if(null!=t&&null!=t){var n=t.type;if(null!=n&&null!=n&&""!=n){n=n.toLowerCase();var i=!1;for(var o in e)if(e[o].toLowerCase()==n){i=!0;break}return!!i}}return!0}(u,n)?P(e,{name:"InvalidFileTypeError",message:"That file format is not allowed"}):s>0&&!function(e,t){if(null!=t&&null!=t){var n=t.size;if(null!=n&&null!=n&&""!=n&&H(n))return n<=e}return!0}(s,n)?P(e,{name:"MaxFileSizeError",message:"That file is too big"}):null!=d&&null!=p?function(e){if(null!=o&&null!=o[e]&&null!=o[e]&&window.Worker){var t=o[e];if(null!=t.size&&null!=t.size&&""!=t.size&&H(t.size)&&(t.slice||t.webkitSlice||t.mozSlice))try{var n,i,r,a,s,l,u=new Worker(d);return u.addEventListener("error",(function(t){u.terminate(),S[e].hashWorker=null,M(e)}),!1),u.addEventListener("message",(function(t){if(t.data.result){var n=t.data.result;u.terminate(),S[e].hashWorker=null,function(e,t){if(1==O(e)){var n=!1;p.call(E[e],t,{success:function(t){return 1==O(e)&&!n&&(n=!0,U(e,100),R(e,t),!0)},proceed:function(){return 1==O(e)&&!n&&(n=!0,M(e),!0)},error:function(t){return 1==O(e)&&!n&&(n=!0,P(e,{name:"HashError",message:t}),!0)}})}}(e,n)}}),!1),l=function(e){u.postMessage({message:e.target.result,block:i})},s=function(e){i.end!==t.size&&(i.start+=n,i.end+=n,i.end>t.size&&(i.end=t.size),(r=new FileReader).onload=l,t.slice?a=t.slice(i.start,i.end):t.webkitSlice?a=t.webkitSlice(i.start,i.end):t.mozSlice&&(a=t.mozSlice(i.start,i.end)),r.readAsArrayBuffer(a))},n=1048576,(i={file_size:t.size,start:0}).end=n>t.size?t.size:n,u.addEventListener("message",s,!1),(r=new FileReader).onload=l,t.slice?a=t.slice(i.start,i.end):t.webkitSlice?a=t.webkitSlice(i.start,i.end):t.mozSlice&&(a=t.mozSlice(i.start,i.end)),r.readAsArrayBuffer(a),void(S[e].hashWorker=u)}catch(e){}}M(e)}(e):M(e)}}(e)})),a.uploadNext()):N()}else{for(var V in E)z(V,4);N()}}}()}a.maxUploads=10,a.activeUploads=0,a.uploads=[],a.iframes={},a.iframeCount=0,a.queueUpload=function(e,t){a.uploads[a.uploads.length]={uploads:e,callback:t}},a.uploadNext=function(){if(a.uploads.length>0&&a.activeUploads<a.maxUploads){var e=a.uploads[0],t=e.callback,n=e.uploads.splice(0,1)[0];0==e.uploads.length&&a.uploads.splice(0,1),a.activeUploads++,t(n),a.uploadNext()}},a.queueIframe=function(e){for(var t=0;0==t||t in a.iframes;)t=Math.floor(999999999*Math.random()+1);return a.iframes[t]=e,a.iframeCount++,$("body").append('<iframe name="simpleUpload_iframe_'+t+'" style="display: none;"></iframe>'),t},a.dequeueIframe=function(e){e in a.iframes&&($("iframe[name=simpleUpload_iframe_"+e+"]").remove(),delete a.iframes[e],a.iframeCount--)},a.convertDataType=function(e,t,n){var i="auto";if("auto"==e){if("string"==typeof t&&""!=t){var o=t.toLowerCase(),r=["json","xml","html","script","text"];for(var a in r)if(r[a]==o){i=o;break}}}else i=e;if("auto"==i)return void 0===n?"":"object"==typeof n?n:String(n);if("json"==i){if(null==n)return null;if("object"==typeof n)return n;if("string"==typeof n)try{return $.parseJSON(n)}catch(e){return!1}return!1}if("xml"==i){if(null==n)return null;if("string"==typeof n)try{return $.parseXML(n)}catch(e){return!1}return!1}if("script"==i){if(void 0===n)return"";if("string"==typeof n)try{return $.globalEval(n),n}catch(e){return!1}return!1}return void 0===n?"":String(n)},a.iframeCallback=function(e){if("object"==typeof e&&null!==e){var t=e.id;if(t in a.iframes){var n=a.convertDataType(a.iframes[t].expect,e.type,e.data);!1!==n?a.iframes[t].complete(n):a.iframes[t].error("Upload failed")}}},a.postMessageCallback=function(e){try{var t=e[e.message?"message":"data"];if("string"==typeof t&&""!=t&&"object"==typeof(t=$.parseJSON(t))&&null!==t&&"string"==typeof t.namespace&&"simpleUpload"==t.namespace){var n=t.id;if(n in a.iframes&&e.origin===a.iframes[n].origin){var i=a.convertDataType(a.iframes[n].expect,t.type,t.data);!1!==i?a.iframes[n].complete(i):a.iframes[n].error("Upload failed")}}}catch(e){}},window.addEventListener?window.addEventListener("message",a.postMessageCallback,!1):window.attachEvent("onmessage",a.postMessageCallback),o=[n(1669)],void 0===(r="function"===typeof(i=function(e){e.fn.simpleUpload=function(t,n){return 0==e(this).length&&"object"==typeof n&&null!==n&&"object"==typeof n.files&&null!==n.files?(new a(t,null,n),this):this.each((function(){new a(t,this,n)}))},e.fn.simpleUpload.maxSimultaneousUploads=function(e){return void 0===e?a.maxUploads:"number"==typeof e&&e>0?(a.maxUploads=e,this):void 0}})?i.apply(t,o):i)||(e.exports=r)},5396:function(){!function(e){e?(e.Unslider=function(t,n){var i=this;return i._="unslider",i.defaults={autoplay:!1,delay:3e3,speed:500,easing:"swing",keys:{prev:37,next:39},nav:!0,arrows:{prev:'<a class="'+i._+'-arrow prev">Prev</a>',next:'<a class="'+i._+'-arrow next">Next</a>'},animation:"horizontal",selectors:{container:"ul:first",slides:"li"},animateHeight:!1,activeClass:i._+"-active",swipe:!0,swipeThreshold:.2},i.$context=t,i.options={},i.$parent=null,i.$container=null,i.$slides=null,i.$nav=null,i.$arrows=[],i.total=0,i.current=0,i.prefix=i._+"-",i.eventSuffix="."+i.prefix+~~(2e3*Math.random()),i.interval=null,i.init=function(t){return i.options=e.extend({},i.defaults,t),i.$container=i.$context.find(i.options.selectors.container).addClass(i.prefix+"wrap"),i.$slides=i.$container.children(i.options.selectors.slides),i.setup(),e.each(["nav","arrows","keys","infinite"],(function(t,n){i.options[n]&&i["init"+e._ucfirst(n)]()})),jQuery.event.special.swipe&&i.options.swipe&&i.initSwipe(),i.options.autoplay&&i.start(),i.calculateSlides(),i.$context.trigger(i._+".ready"),i.animate(i.options.index||i.current,"init")},i.setup=function(){i.$context.addClass(i.prefix+i.options.animation).wrap('<div class="'+i._+'" />'),i.$parent=i.$context.parent("."+i._),"static"===i.$context.css("position")&&i.$context.css("position","relative"),i.$context.css("overflow","hidden")},i.calculateSlides=function(){if(i.total=i.$slides.length,"fade"!==i.options.animation){var e="width";"vertical"===i.options.animation&&(e="height"),i.$container.css(e,100*i.total+"%").addClass(i.prefix+"carousel"),i.$slides.css(e,100/i.total+"%")}},i.start=function(){return i.interval=setTimeout((function(){i.next()}),i.options.delay),i},i.stop=function(){return clearTimeout(i.interval),i},i.initNav=function(){var t=e('<nav class="'+i.prefix+'nav"><ol /></nav>');i.$slides.each((function(n){var o=this.getAttribute("data-nav")||n+1;e.isFunction(i.options.nav)&&(o=i.options.nav.call(i.$slides.eq(n),n,o)),t.children("ol").append('<li data-slide="'+n+'">'+o+"</li>")})),i.$nav=t.insertAfter(i.$context),i.$nav.find("li").on("click"+i.eventSuffix,(function(){var t=e(this).addClass(i.options.activeClass);t.siblings().removeClass(i.options.activeClass),i.animate(t.attr("data-slide"))}))},i.initArrows=function(){!0===i.options.arrows&&(i.options.arrows=i.defaults.arrows),e.each(i.options.arrows,(function(t,n){i.$arrows.push(e(n).insertAfter(i.$context).on("click"+i.eventSuffix,i[t]))}))},i.initKeys=function(){!0===i.options.keys&&(i.options.keys=i.defaults.keys),e(document).on("keyup"+i.eventSuffix,(function(t){e.each(i.options.keys,(function(n,o){t.which===o&&e.isFunction(i[n])&&i[n].call(i)}))}))},i.initSwipe=function(){var e=i.$slides.width();"fade"!==i.options.animation&&i.$container.on({movestart:function(e){return e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY?!!e.preventDefault():void i.$container.css("position","relative")},move:function(t){i.$container.css("left",-100*i.current+100*t.distX/e+"%")},moveend:function(t){Math.abs(t.distX)/e>i.options.swipeThreshold?i[t.distX<0?"next":"prev"]():i.$container.animate({left:-100*i.current+"%"},i.options.speed/2)}})},i.initInfinite=function(){var t=["first","last"];e.each(t,(function(e,n){i.$slides.push.apply(i.$slides,i.$slides.filter(':not(".'+i._+'-clone")')[n]().clone().addClass(i._+"-clone")["insert"+(0===e?"After":"Before")](i.$slides[t[~~!e]]()))}))},i.destroyArrows=function(){e.each(i.$arrows,(function(e,t){t.remove()}))},i.destroySwipe=function(){i.$container.off("movestart move moveend")},i.destroyKeys=function(){e(document).off("keyup"+i.eventSuffix)},i.setIndex=function(e){return 0>e&&(e=i.total-1),i.current=Math.min(Math.max(0,e),i.total-1),i.options.nav&&i.$nav.find('[data-slide="'+i.current+'"]')._active(i.options.activeClass),i.$slides.eq(i.current)._active(i.options.activeClass),i},i.animate=function(t,n){if("first"===t&&(t=0),"last"===t&&(t=i.total),isNaN(t))return i;i.options.autoplay&&i.stop().start(),i.setIndex(t),i.$context.trigger(i._+".change",[t,i.$slides.eq(t)]);var o="animate"+e._ucfirst(i.options.animation);return e.isFunction(i[o])&&i[o](i.current,n),i},i.next=function(){var e=i.current+1;return e>=i.total&&(e=0),i.animate(e,"next")},i.prev=function(){return i.animate(i.current-1,"prev")},i.animateHorizontal=function(e){var t="left";return"rtl"===i.$context.attr("dir")&&(t="right"),i.options.infinite&&i.$container.css("margin-"+t,"-100%"),i.slide(t,e)},i.animateVertical=function(e){return i.options.animateHeight=!0,i.options.infinite&&i.$container.css("margin-top",-i.$slides.outerHeight()),i.slide("top",e)},i.slide=function(e,t){var n;(i.options.animateHeight&&i._move(i.$context,{height:i.$slides.eq(t).outerHeight()},!1),i.options.infinite)&&(t===i.total-1&&(n=i.total-3,t=-1),t===i.total-2&&(n=0,t=i.total-2),"number"==typeof n&&(i.setIndex(n),i.$context.on(i._+".moved",(function(){i.current===n&&i.$container.css(e,-100*n+"%").off(i._+".moved")}))));var o={};return o[e]=-100*t+"%",i._move(i.$container,o)},i.animateFade=function(e){var t=i.$slides.eq(e).addClass(i.options.activeClass);i._move(t.siblings().removeClass(i.options.activeClass),{opacity:0}),i._move(t,{opacity:1},!1)},i._move=function(e,t,n,o){return!1!==n&&(n=function(){i.$context.trigger(i._+".moved")}),e._move(t,o||i.options.speed,i.options.easing,n)},i.init(n)},e.fn._active=function(e){return this.addClass(e).siblings().removeClass(e)},e._ucfirst=function(e){return(e+"").toLowerCase().replace(/^./,(function(e){return e.toUpperCase()}))},e.fn._move=function(){return this.stop(!0,!0),e.fn[e.fn.velocity?"velocity":"animate"].apply(this,arguments)},e.fn.unslider=function(t){return this.each((function(){var n=e(this);if("string"==typeof t&&n.data("unslider")){t=t.split(":");var i=n.data("unslider")[t[0]];if(e.isFunction(i))return i.apply(n,t[1]?t[1].split(","):null)}return n.data("unslider",new e.Unslider(n,t))}))}):console.warn("Unslider needs jQuery")}(window.jQuery)},7424:function(e,t,n){"use strict";n(7002),n(950),n(9136),n(3700),n(504),n(916),n(5396),n(2481),n(7562),n(258);var i=n(3337);n.n(i)().start()},1669:function(e){"use strict";e.exports=jQuery}},function(e){e.O(0,[337],(function(){return t=7424,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=vendor-8d0f8b64c903810d977b.js.map